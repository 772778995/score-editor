/***************************************************************************/
/*                                                                         */
/*  This obfuscated code was created by Javascript Obfuscator Free Version.*/
/*  Javascript Obfuscator Free Version can be downloaded here              */
/*  http://javascriptobfuscator.com                                        */
/*                                                                         */
/***************************************************************************/
var _$_1e54 = [
  "left",
  "width",
  "#STAFF_div .modal-content",
  "css",
  "950px",
  "modal",
  "#STAFF_div",
  '<select staffnum="NUM" id="staffclefNUM" class="staffcleftype">',
  '<option value="treble">\u9ad8\u97f3\u8c31\u53f7</option>',
  '<option value="bass">\u4f4e\u97f3\u8c31\u53f7</option>',
  '<option value="alto">\u4e2d\u97f3\u8c31\u53f7</option>',
  '<option value="tenor">\u6b21\u4e2d\u97f3\u8c31\u53f7</option>',
  "</select>",
  '<select id="toneNUM" class="toneClass" style="width:150px;">',
  "length",
  "instrumentList",
  '<option value="',
  "code",
  '">',
  "name",
  "</option>",
  '<div id="staffPropNUM" staffnum="NUM" class="staffProp" style="padding-top:5px;"> \u8c31\u53f7\uff1a',
  ' \u8c31\u8868\u540d\u79f0\uff1a<input staffnum="NUM" id="nmNUM" type="text" style="width:85px;">&nbsp;',
  '\u526f\u540d\u79f0\uff1a<input staffnum="NUM" id="snmNUM" type="text" style="width:85px;">',
  "\u97f3\u8272\uff1a",
  '\u8282\u594f\u8c31\uff1a<input type="checkbox" staffnum="NUM" onclick="switchRhythm(this)" id="isRhythm" class="isRhythm" style="width:20px;margin-left: 0px;margin-right: 0px;">',
  "</div>",
  "val",
  "#STAFFNUM",
  ".staffcleftype",
  "NUM",
  "replaceAll",
  "",
  "#staffProp",
  "append",
  "#staffsettingdiv",
  "remove",
  '<input class="staffoption" seq="SEQ" style="width:30px;text-align:center;">',
  '<span seq="SEQ">SEQ</span>',
  "input[seq]",
  "input[seq='",
  "']",
  "SEQ",
  "#staffSplitDiv",
  "span[seq='",
  "#staffProp1",
  "#DO_CHN_div .modal-content",
  "top",
  "#M_mol",
  "bot",
  "#M_den",
  "/",
  "split",
  "#L",
  "z2",
  "z",
  "#source",
  "#nodecount",
  "#barsperstaff",
  ":checked",
  "is",
  "#isR",
  "#weakBarTop",
  "#weakBarBot",
  "|",
  "match",
  "replace",
  "\x0A",
  "V:",
  "%V",
  "line0end\x0A",
  "%%vsetting_start",
  "#M_type",
  "1",
  "M:",
  "source",
  "barCount",
  "push",
  "v",
  "type",
  "note",
  "lineStr",
  "count",
  "get",
  "set",
  "::",
  ":|:",
  ":||:",
  "index",
  "substring",
  "$",
  "exec",
  "%%linebreak",
  "indexOf",
  "%%linebreak $\x0A",
  "%%vsetting_start\x0A",
  "%%score ",
  " ",
  ".staffProp",
  "staffnum",
  "attr",
  "#staffclef",
  "#nm",
  "#snm",
  "#tone",
  "checked",
  "prop",
  ".isRhythm[staffnum='",
  " clef=",
  " treble",
  " bass",
  " perc stafflines=1",
  ' nm="',
  '"',
  ' snm="',
  "\x0A%%MIDI program ",
  "\x0A%%MIDI program 0",
  "each",
  "treble",
  "bass",
  "%%MIDI program 0\x0A",
  "%%vsetting_end\x0A",
  "z,",
  " |",
  "key",
  "$1",
  "#APPEND_NODE_div .modal-content",
  "250px",
  "#APPEND_NODE_div",
  "#appendNodeNum",
  "vocalCount",
  "vNum",
  "\x0AV:",
  " treble\x0A",
  "html",
  "#btnAddBr",
  "\u53d6\u6d88\u6362\u884c",
  "barIndex",
  "#nodeMenu",
  "isLineFirstNode",
  "nodes",
  "nodeIndex",
  "nodeStr",
  "endSeq",
  "nextBr",
  "#notebr",
  ".*%V",
  "lined+(end)?",
  "g",
  "(line\\d+|end)",
  "svg[type='rectnode'],svg[type='rectbar']",
  "id",
  "mysvgbar",
  "mysvgnode",
  "_",
  "barNum",
  ".selected_text",
  ".select_text_g",
  "istart",
  "notes",
  "iend",
  "[",
  "]",
  "update_index",
  "select_text_g",
  "hasClass",
  ":first",
  "children",
  "update_note_index:",
  " \u5f53\u524d\u66f4\u65b0\u7684\u97f3\u7b26\uff1a",
  "log",
  "\u66f4\u65b0\u524d\u7684\u97f3\u7b26\uff1a",
  "  \u66f4\u65b0\u540e:",
  "oldNoteStrArr",
  "newNoteStrArr",
  "updateIndexArr",
  "chordNotes",
  "concat",
  "\u5f53\u524d\u4fee\u6539\u7684\u97f3\u7b26\u662f\uff1a",
  "newNoteStr:",
  ".selected_text,.select_text_g",
  "g[istart]",
  ".select_text_g,.selected_text",
  ".toneClass",
  "{",
  "}",
  "lineBarNum",
  "hasWeakNode",
  "weakNodeVal",
  "disabled",
  "removeAttr",
  "weakNode",
  "lineHeight",
  ".line_height",
  "meter",
  "isFreeMeasure",
  "#nometer",
  "speedDesc",
  "#Q_DESC",
  "speed",
  "1/1",
  "1/2",
  "1/4",
  "1/8",
  "1/16",
  "1/32",
  "#Q_V",
  "#K",
  "titleFontSize",
  "#titleFontSize",
  "titleFontColor",
  "#titleColor",
  "background-color",
  "lyricFontSize",
  "#lyricFontSize",
  "lyricFontColor",
  "#lyricColor",
  "dur",
  "test",
  "7//",
  "3/",
  "/1",
  "/2",
  "/4",
  "//",
  "my_ulen",
  "next",
  "del_nodeline",
  "dur_nodeline_behind",
  "clone",
  "dur_orig",
  "forEach",
  "restStr",
  "note_dur",
  "ulen",
  "noteStr",
  "del_s",
  "update_dur_s",
  "#barBgColorInput",
  "#",
  "switchBarRestShow",
  "startSeq",
  "-",
  "hide",
  "x",
  "show",
  "#gchText",
  "ori_val",
  "a_gch",
  "input[name='gchdirect']:checked",
  "input[name='gchfonttype']:checked",
  "#gchfontsize",
  "[font-size:",
  "#xoffset",
  "x:",
  "#yoffset",
  ",",
  "y:",
  "color",
  "#0E518F",
  "selected",
  "text[gch_istart=",
  "keyCode",
  "up",
  "'",
  "down",
  ".selected_path[type='slur']",
  "(",
  "lastIndexOf",
  "substr",
  ".left-hide-content[mkey]",
  ".left-hide-content[mkey='",
  "b",
  "C,",
  "D,",
  "E,",
  "F,",
  "G,",
  "A,",
  "B,",
  "C",
  "D",
  "E",
  "F",
  "G",
  "A",
  "B",
  "c",
  "d",
  "e",
  "f",
  "a",
  ".spl-input div[type='spl']",
  "value",
  "level",
  ".spl-input div[num]",
  "abs",
  "',",
  ",'",
  "toUpperCase",
  "toLowerCase",
  '<i class="dot-t-',
  '"></i>',
  '<i class="dot-b-',
  "i",
  "find",
  "\u8bf7\u9009\u62e92\u4e2a\u97f3\u7b26\u540e\u518d\u8fdb\u884c\u5408\u5e76\u64cd\u4f5c",
  "alert",
  "#zsistart",
  "#zsInput",
  "text",
  "#gchcoor",
  "right",
  "display",
  "#ZS_EDIT_div",
  "block",
  "input[name='zspos']:checked",
  "input[name='fonttype']:checked",
  "text[type='zs'][istart='",
  "%%musicspace",
  "%%musicspace ",
  "%%titlespace",
  "%%titlespace ",
  "%%composerspace",
  "%%composerspace ",
  "files/abc/",
  "yyyyMMdd",
  "Format",
  "#dirname",
  "noteImg",
  "click",
  "#postfiles",
  "clickAddText",
  "menu-pressed",
  "cursor",
  "default",
  "#target",
  "removeClass",
  "#graphEditorMenuInsert",
  "#selectedStatus",
  "addClass",
  "offset",
  "target",
  "tagName",
  "svg",
  "parents",
  "div",
  "createElement",
  "white",
  "position",
  "absolute",
  "z-index",
  "contenteditable",
  "true",
  "editor-div",
  "mytext",
  "\u805a\u7126",
  "focus",
  "\u5931\u7126",
  ">",
  "<br>",
  "splice",
  "px",
  ".right-top-content",
  "scrollTop",
  "e.x",
  "getTime",
  "blur",
  "offsetX",
  "y",
  "fontsize",
  "svgIndex",
  "http://www.w3.org/2000/svg",
  "createElementNS",
  "setAttribute",
  "font-size",
  "14px",
  "mousedown",
  "mode",
  "editor",
  "selected_text",
  "text[type='mytext']",
  "preventDefault",
  "stopPropagation",
  "addEventListener",
  "mousemove",
  "transform",
  "getBBox",
  "offsetY",
  "mouseup",
  "dblclick",
  "createTextNode",
  "appendChild",
  '.*"id":',
  ".*",
  "parse",
  "stringify",
  "%%beginmytext",
  "\x0A%%endmytext",
  "\x0A%%endmytext\x0A",
  "#lyricText",
  "#lyricTextUp",
  "#lyricTextDown",
  "#lyricBgColor",
  "input[name='lyricAlign']:checked",
  "[R]",
  "[_",
  "[^",
  "#editorLyricIstart",
  "#editorLyricIend",
  "text[type='lyric'][lyric_istart='",
  "[L]",
  "#lyricBgColorInput",
  "text[type='lyric'][selected='selected'],text[type='lyric'].selected_text",
  "seq",
  "lyric_istart",
  "[s.lb.",
  ".",
  "[e.lb.",
  "text[type='lyric'][selected='selected']",
  "\\[[se]\\.lb\\.",
  "\\..[^\\[]*\\]",
  "#singleLyricColorInput",
  "svg[type='rectbar'],svg[type='rectnode']",
  "score",
  ".[^\\d]*",
  "rect[selected='selected']",
  "bar_dotted",
  "%%leftmargin",
  "%%leftmargin ",
  "%%rightmargin",
  "%%rightmargin ",
  "%%botmargin",
  "%%botmargin ",
  "[I:pos spl ",
  "[I:pos spl center]",
  "[I:pos spl auto]",
  "(&",
  ".menu-pulldown-box",
  "V:s*",
  ".*\x0A%%MIDI program(.*)",
  ".*\x0A%%MIDI program",
  "svg[type='rectnode']",
  "my_wmeasure",
  "barLineStr",
  " & ",
  "&)",
  "text[type='hld'][selected='selected'],text.selected_text[type='hld']",
  "prev",
  "fermata",
  "fermatatime",
  '"fermatatime:',
  "text[type='hld'][istart='",
  "\u58f0\u90e8\u540d\u79f0",
  "\u58f0\u90e8\u526f\u540d\u79f0",
  "V:\\s*",
  'nm=\\"(.[^"]*)\\"',
  'snm=\\"(.[^"]*)\\"',
  'nm="',
  'snm="',
  '" snm="',
  "#noteJpText",
  "jptext:",
  "staff",
  '"jptext:',
  ":",
  "\u8bf7\u5148\u8bbe\u7f6e\u6587\u672c",
  "#noteJpTextMidi",
  "#dacsFontSize",
  "%%dacsfontsize ",
  "barindex",
  "#barWidthInput",
  "0",
  '"barwidth:',
  "%%equalbars 1\x0A",
  "bar_num",
  "stroke",
  "node",
  "#barWidthInput2",
  "oldWidth",
  "#barHeightTopInput",
  "#barHeightBotInput",
  "[I:vskip ",
  "[I:vskip",
  "xOffset",
  "!x:",
  "!",
  "\u5c0f\u8282\u7ebf",
  "fill-opacity",
  "0.3",
  "rect[istart='",
  '[{"istart":295,"sdur":192,"pitch":67,"meter":"2/4","scoretype":"all","lyric":["\u6bcd"],"currlyric":"\u6bcd","startTime":5.0,"dur":0.3},{"istart":296,"sdur":192,"pitch":67,"meter":"2/4","scoretype":"all","lyric":["\u9e21"],"currlyric":"\u9e21","startTime":5.296054493683608,"dur":0.3},{"istart":298,"sdur":192,"pitch":67,"meter":"2/4","scoretype":"all","lyric":["\u6bcd"],"currlyric":"\u6bcd","startTime":5.592108987367215,"dur":0.3},{"istart":299,"sdur":192,"pitch":67,"meter":"2/4","scoretype":"all","lyric":["\u9e21"],"currlyric":"\u9e21","startTime":5.888163481050823,"dur":0.3},{"istart":303,"sdur":192,"pitch":67,"meter":"2/4","scoretype":"all","lyric":["\u53eb"],"currlyric":"\u53eb","startTime":6.18421797473443,"dur":0.3},{"istart":304,"sdur":192,"pitch":70,"meter":"2/4","scoretype":"all","lyric":["\u54af"],"currlyric":"\u54af","startTime":6.480272468418038,"dur":0.3},{"istart":306,"sdur":384,"pitch":70,"meter":"2/4","scoretype":"all","lyric":["\u54af"],"currlyric":"\u54af","startTime":6.7763269621016455,"dur":0.6},{"istart":311,"sdur":192,"pitch":65,"meter":"2/4","scoretype":"all","lyric":["\u53eb","\u5ff5\u54af"],"currlyric":"\u53eb","startTime":7.368435949468861,"dur":0.3},{"istart":312,"sdur":192,"pitch":68,"meter":"2/4","scoretype":"all","lyric":["\u54af","\u54af"],"currlyric":"\u54af","startTime":7.664490443152468,"dur":0.3},{"istart":314,"sdur":384,"pitch":68,"meter":"2/4","scoretype":"all","lyric":["\u54af","\u54d2"],"currlyric":"\u54af","startTime":7.960544936836075,"dur":0.6},{"istart":319,"sdur":192,"pitch":67,"meter":"2/4","scoretype":"all","lyric":["\u53eb","\u54af"],"currlyric":"\u53eb","startTime":8.552653924203291,"dur":0.3},{"istart":320,"sdur":192,"pitch":70,"meter":"2/4","scoretype":"all","lyric":["\u54af","\u54af"],"currlyric":"\u54af","startTime":8.848708417886897,"dur":0.3},{"istart":322,"sdur":384,"pitch":70,"meter":"2/4","scoretype":"all","lyric":["\u54af","\u54d2"],"currlyric":"\u54af","startTime":9.144762911570506,"dur":0.6},{"istart":394,"sdur":192,"pitch":67,"meter":"2/4","scoretype":"all","lyric":["\u6bcd"],"currlyric":"\u6bcd","startTime":9.736871898937721,"dur":0.3},{"istart":395,"sdur":192,"pitch":67,"meter":"2/4","scoretype":"all","lyric":["\u9e21"],"currlyric":"\u9e21","startTime":10.032926392621327,"dur":0.3},{"istart":397,"sdur":192,"pitch":67,"meter":"2/4","scoretype":"all","lyric":["\u6bcd"],"currlyric":"\u6bcd","startTime":10.328980886304937,"dur":0.3},{"istart":398,"sdur":192,"pitch":67,"meter":"2/4","scoretype":"all","lyric":["\u9e21"],"currlyric":"\u9e21","startTime":10.625035379988542,"dur":0.3},{"istart":402,"sdur":192,"pitch":67,"meter":"2/4","scoretype":"all","lyric":["\u53eb"],"currlyric":"\u53eb","startTime":10.92108987367215,"dur":0.3},{"istart":403,"sdur":192,"pitch":70,"meter":"2/4","scoretype":"all","lyric":["\u54af"],"currlyric":"\u54af","startTime":11.217144367355758,"dur":0.3},{"istart":405,"sdur":384,"pitch":70,"meter":"2/4","scoretype":"all","lyric":["\u54af"],"currlyric":"\u54af","startTime":11.513198861039365,"dur":0.6},{"istart":410,"sdur":192,"pitch":68,"meter":"2/4","scoretype":"all","lyric":["\u9e21","\u5ff5\u54af"],"currlyric":"\u9e21","startTime":12.10530784840658,"dur":0.3},{"istart":411,"sdur":192,"pitch":68,"meter":"2/4","scoretype":"all","lyric":["\u86cb","\u54af"],"currlyric":"\u86cb","startTime":12.401362342090188,"dur":0.3},{"istart":413,"sdur":192,"pitch":65,"meter":"2/4","scoretype":"all","lyric":["\u5df2","\u54d2"],"currlyric":"\u5df2","startTime":12.697416835773796,"dur":0.3},{"istart":414,"sdur":192,"pitch":65,"meter":"2/4","scoretype":"all","lyric":["\u751f"],"currlyric":"\u751f","startTime":12.993471329457403,"dur":0.3},{"istart":418,"sdur":768,"pitch":63,"meter":"2/4","scoretype":"all","lyric":["\u843d","\u54af\u54af\u54d2"],"currlyric":"\u843d","startTime":13.28952582314101,"dur":1.2},{"istart":489,"sdur":192,"pitch":65,"meter":"2/4","scoretype":"all","lyric":["\u8116"],"currlyric":"\u8116","startTime":14.473743797875441,"dur":0.3},{"istart":490,"sdur":192,"pitch":68,"meter":"2/4","scoretype":"all","lyric":["\u5b50"],"currlyric":"\u5b50","startTime":14.769798291559049,"dur":0.3},{"istart":492,"sdur":192,"pitch":68,"meter":"2/4","scoretype":"all","lyric":["\u4f38"],"currlyric":"\u4f38","startTime":15.065852785242656,"dur":0.3},{"istart":493,"sdur":192,"pitch":68,"meter":"2/4","scoretype":"all","lyric":["\u4f38"],"currlyric":"\u4f38","startTime":15.361907278926264,"dur":0.3},{"istart":497,"sdur":192,"pitch":67,"meter":"2/4","scoretype":"all","lyric":["\u4e24"],"currlyric":"\u4e24","startTime":15.657961772609871,"dur":0.3},{"istart":498,"sdur":192,"pitch":72,"meter":"2/4","scoretype":"all","lyric":["\u7ffc"],"currlyric":"\u7ffc","startTime":15.954016266293479,"dur":0.3},{"istart":500,"sdur":192,"pitch":70,"meter":"2/4","scoretype":"all","lyric":["\u6251"],"currlyric":"\u6251","startTime":16.250070759977085,"dur":0.3},{"istart":501,"sdur":192,"pitch":67,"meter":"2/4","scoretype":"all","lyric":["\u6251"],"currlyric":"\u6251","startTime":16.54612525366069,"dur":0.3},{"istart":505,"sdur":192,"pitch":65,"meter":"2/4","scoretype":"all","lyric":["\u5411"],"currlyric":"\u5411","startTime":16.8421797473443,"dur":0.3},{"istart":506,"sdur":192,"pitch":68,"meter":"2/4","scoretype":"all","lyric":["\u4eba"],"currlyric":"\u4eba","startTime":17.13823424102791,"dur":0.3},{"istart":508,"sdur":192,"pitch":68,"meter":"2/4","scoretype":"all","lyric":["\u62a5"],"currlyric":"\u62a5","startTime":17.434288734711515,"dur":0.3},{"istart":509,"sdur":192,"pitch":68,"meter":"2/4","scoretype":"all","lyric":["\u559c"],"currlyric":"\u559c","startTime":17.73034322839512,"dur":0.3},{"istart":513,"sdur":192,"pitch":67,"meter":"2/4","scoretype":"all","lyric":["\u6dfb"],"currlyric":"\u6dfb","startTime":18.02639772207873,"dur":0.3},{"istart":514,"sdur":192,"pitch":72,"meter":"2/4","scoretype":"all","lyric":["\u5feb"],"currlyric":"\u5feb","startTime":18.32245221576234,"dur":0.3},{"istart":516,"sdur":384,"pitch":70,"meter":"2/4","scoretype":"all","lyric":["\u4e50"],"currlyric":"\u4e50","startTime":18.618506709445946,"dur":0.6},{"istart":558,"sdur":192,"pitch":67,"meter":"2/4","scoretype":"all","lyric":["\u6bcd","\u5ff5\u54af"],"currlyric":"\u6bcd","startTime":19.21061569681316,"dur":0.3},{"istart":559,"sdur":192,"pitch":67,"meter":"2/4","scoretype":"all","lyric":["\u9e21","\u54af"],"currlyric":"\u9e21","startTime":19.50667019049677,"dur":0.3},{"istart":561,"sdur":192,"pitch":67,"meter":"2/4","scoretype":"all","lyric":["\u6bcd","\u54d2"],"currlyric":"\u6bcd","startTime":19.802724684180376,"dur":0.3},{"istart":562,"sdur":192,"pitch":67,"meter":"2/4","scoretype":"all","lyric":["\u9e21"],"currlyric":"\u9e21","startTime":20.09877917786398,"dur":0.3},{"istart":566,"sdur":192,"pitch":67,"meter":"2/4","scoretype":"all","lyric":["\u53eb","\u54af"],"currlyric":"\u53eb","startTime":20.39483367154759,"dur":0.3},{"istart":567,"sdur":192,"pitch":70,"meter":"2/4","scoretype":"all","lyric":["\u54af","\u54af"],"currlyric":"\u54af","startTime":20.6908881652312,"dur":0.3},{"istart":569,"sdur":384,"pitch":70,"meter":"2/4","scoretype":"all","lyric":["\u54af","\u54d2"],"currlyric":"\u54af","startTime":20.986942658914806,"dur":0.6},{"istart":574,"sdur":192,"pitch":68,"meter":"2/4","scoretype":"all","lyric":["\u9e21","\u54af"],"currlyric":"\u9e21","startTime":21.57905164628202,"dur":0.3},{"istart":575,"sdur":192,"pitch":68,"meter":"2/4","scoretype":"all","lyric":["\u86cb","\u54af"],"currlyric":"\u86cb","startTime":21.875106139965627,"dur":0.3},{"istart":577,"sdur":192,"pitch":65,"meter":"2/4","scoretype":"all","lyric":["\u5df2","\u54af"],"currlyric":"\u5df2","startTime":22.171160633649237,"dur":0.3},{"istart":578,"sdur":192,"pitch":65,"meter":"2/4","scoretype":"all","lyric":["\u751f","\u54d2"],"currlyric":"\u751f","startTime":22.467215127332842,"dur":0.3},{"istart":582,"sdur":768,"pitch":63,"meter":"2/4","scoretype":"all","lyric":["\u843d","\u54d2"],"dur":1.2,"currlyric":"\u843d","startTime":22.763269621016452}]',
  "node_index",
  "starttime",
  "startTime",
  "sdur",
  "#micInput",
  "mic_iframe",
  "contentWindow",
  "src",
  "about:blank",
  "write",
  "document",
  "clear",
  "M: 4/4\x0A",
  "mic",
  "#graphEditorMenuUpdate",
  "mic2pitch.html",
  "#mic_iframe",
  "getCurrPitch",
  "closeMic",
  "=",
  "setAquireNoteTime",
  "toFixed",
  "2",
  "4",
  "noteStr:",
  ".jp_note",
  ".dotstatus",
  ".jp_note[dur=192]",
  ".jp_note[dur=384]",
  ".jp_note[dur=768]",
  ".operator_sc.selected",
  "#staffModule",
  "#staffType option",
  "module",
  "none",
  "#editor",
  "9",
  "resize",
  "both",
  "height",
  "30px",
  "0px",
  "750px",
  "important",
  "setProperty",
  "style",
  "outerWidth",
  "#source_float_div",
  "#float_div",
  "data",
  "outerHeight",
  "#source_float",
];
function showStaffProp() {
  setSpeedSelected();
  initStaffProp();
  $(_$_1e54[2])[_$_1e54[3]](
    _$_1e54[0],
    ($(window)[_$_1e54[1]]() - $(_$_1e54[2])[_$_1e54[1]]()) / 2
  );
  $(_$_1e54[2])[_$_1e54[3]](_$_1e54[1], _$_1e54[4]);
  $(_$_1e54[6])[_$_1e54[5]]();
}
function initStaffProp() {
  var _0x15705 =
    _$_1e54[7] +
    _$_1e54[8] +
    _$_1e54[9] +
    _$_1e54[10] +
    _$_1e54[11] +
    _$_1e54[12];
  var _0x1582B = _$_1e54[13];
  for (
    var _0x11901 = 0;
    _0x11901 < content_vue[_$_1e54[15]][_$_1e54[14]];
    _0x11901++
  ) {
    _0x1582B +=
      _$_1e54[16] +
      content_vue[_$_1e54[15]][_0x11901][_$_1e54[17]] +
      _$_1e54[18] +
      content_vue[_$_1e54[15]][_0x11901][_$_1e54[19]] +
      _$_1e54[20];
  }
  _0x1582B += _$_1e54[12];
  var _0x157C9 =
    _$_1e54[21] +
    _0x15705 +
    _$_1e54[22] +
    _$_1e54[23] +
    _$_1e54[24] +
    _0x1582B +
    _$_1e54[25] +
    _$_1e54[26];
  var _0x12C87 = parseInt($(_$_1e54[28])[_$_1e54[27]]());
  var _0x15767 = $(_$_1e54[29])[_$_1e54[14]];
  if (_0x12C87 > _0x15767) {
    for (var _0x11901 = 1; _0x11901 <= parseInt(_0x12C87); _0x11901++) {
      var _0x12541 = _0x157C9[_$_1e54[31]](_$_1e54[30], _0x11901) + _$_1e54[32];
      if ($(_$_1e54[33] + _0x11901)[_$_1e54[14]] == 0) {
        $(_$_1e54[35])[_$_1e54[34]]($(_0x12541));
      }
    }
  } else {
    if (_0x12C87 < _0x15767) {
      for (var _0x11901 = _0x12C87 + 1; _0x11901 <= _0x15767; _0x11901++) {
        $(_$_1e54[33] + _0x11901)[_$_1e54[36]]();
      }
    }
  }
}
function initStaffSplit() {
  var _0x158EF = _$_1e54[37];
  var _0x15951 = _$_1e54[37];
  var _0x159B3 = _$_1e54[38];
  var _0x12C87 = parseInt($(_$_1e54[28])[_$_1e54[27]]());
  var _0x1588D = $(_$_1e54[39])[_$_1e54[14]];
  if (_0x12C87 > _0x1588D - 1) {
    $(_$_1e54[40] + _0x1588D + _$_1e54[41])[_$_1e54[36]]();
    for (var _0x11901 = _0x1588D; _0x11901 <= parseInt(_0x12C87); _0x11901++) {
      if (_0x11901 == 0) {
        continue;
      }
      if ($(_$_1e54[40] + _0x11901 + _$_1e54[41])[_$_1e54[14]] == 0) {
        var _0x15A15 = _0x158EF[_$_1e54[31]](_$_1e54[42], _0x11901);
        var _0x15A77 = _0x159B3[_$_1e54[31]](_$_1e54[42], _0x11901);
        $(_$_1e54[43])[_$_1e54[34]]($(_0x15A15))[_$_1e54[34]]($(_0x15A77));
      }
    }
    var _0x15A15 = _0x15951[_$_1e54[31]](_$_1e54[42], _0x12C87 + 1);
    var _0x15A77 = _0x159B3[_$_1e54[31]](_$_1e54[42], _0x12C87 + 1);
    $(_$_1e54[43])[_$_1e54[34]]($(_0x15A15));
  } else {
    if (_0x12C87 < _0x1588D - 1) {
      for (var _0x11901 = _0x12C87 + 1; _0x11901 <= _0x1588D; _0x11901++) {
        $(_$_1e54[40] + _0x11901 + _$_1e54[41])[_$_1e54[36]]();
        $(_$_1e54[44] + _0x11901 + _$_1e54[41])[_$_1e54[36]]();
      }
      var _0x15A15 = _0x15951[_$_1e54[31]](_$_1e54[42], _0x12C87 + 1);
      var _0x15A77 = _0x159B3[_$_1e54[31]](_$_1e54[42], _0x12C87 + 1);
      $(_$_1e54[43])[_$_1e54[34]]($(_0x15A15));
    }
  }
}
function popStaffProp() {
  updateStaffPropStatus = true;
  if ($(_$_1e54[45])[_$_1e54[14]] == 0) {
    initStaffProp();
    $(_$_1e54[2])[_$_1e54[3]](
      _$_1e54[0],
      ($(window)[_$_1e54[1]]() - $(_$_1e54[46])[_$_1e54[1]]()) / 2
    );
    $(_$_1e54[2])[_$_1e54[3]](_$_1e54[1], _$_1e54[4]);
    $(_$_1e54[6])[_$_1e54[5]]();
    return;
  }
  $(_$_1e54[6])[_$_1e54[5]]();
}
function genWeakBarRestNotes(_0x14A01) {
  var _0x14AC5 = new Object();
  _0x14AC5[_$_1e54[47]] = parseInt($(_$_1e54[48])[_$_1e54[27]]());
  _0x14AC5[_$_1e54[49]] = parseInt($(_$_1e54[50])[_$_1e54[27]]());
  var _0x14B89 = new Object();
  _0x14B89[_$_1e54[47]] = parseInt(
    $(_$_1e54[53])[_$_1e54[27]]()[_$_1e54[52]](_$_1e54[51])[0]
  );
  _0x14B89[_$_1e54[49]] = parseInt(
    $(_$_1e54[53])[_$_1e54[27]]()[_$_1e54[52]](_$_1e54[51])[1]
  );
  var _0x1437F = _0x14B89[_$_1e54[49]] / _0x14A01[_$_1e54[49]];
  if (_0x1437F != parseInt(_0x1437F)) {
    return _$_1e54[32];
  }
  return genznotes(_0x1437F * _0x14A01[_$_1e54[47]]);
}
function genznotes(_0x12C87) {
  var _0x1241B = parseInt(_0x12C87 / 2);
  var _0x13245 = _0x12C87 % 2;
  var _0x11C11 = _$_1e54[32];
  for (var _0x11901 = 0; _0x11901 < _0x1241B; _0x11901++) {
    _0x11C11 += _$_1e54[54];
  }
  if (_0x13245 != 0 && _0x13245 % 1 == 0) {
    _0x11C11 += _$_1e54[55];
  } else {
    if (_0x13245 != 0 && _0x13245 % 1 != 0) {
      var _0x14F5D = _$_1e54[32];
      if (_0x13245 > 1) {
        _0x14F5D += _$_1e54[55];
      }
      var _0x14EFB = _0x13245 % 1;
      for (_0x11901 = 2; ; _0x11901 *= 2) {
        _0x14F5D += _$_1e54[51];
        if (1 / _0x11901 == _0x14EFB) {
          break;
        }
      }
      _0x11C11 += _$_1e54[55] + _0x14F5D;
    }
  }
  return _0x11C11;
}
function genInitStaff() {
  lastMidiReplaceNoteIstart = -1;
  lastMidiReplaceNoteV = -1;
  if (updateStaffPropStatus) {
    updateStaffPropStatus = false;
    updateStaffProp();
    return;
  }
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  var _0x1499F = genVSetting();
  var _0x12C87 = parseInt($(_$_1e54[28])[_$_1e54[27]]());
  var _0x12BC3 = parseInt($(_$_1e54[57])[_$_1e54[27]]());
  var _0x12A9D = $(_$_1e54[58])[_$_1e54[27]]();
  var _0x14A63 = _$_1e54[32];
  var _0x14A01 = null;
  if ($(_$_1e54[61])[_$_1e54[60]](_$_1e54[59])) {
    _0x14A01 = new Object();
    _0x14A01[_$_1e54[47]] = parseInt($(_$_1e54[62])[_$_1e54[27]]());
    _0x14A01[_$_1e54[49]] = parseInt($(_$_1e54[63])[_$_1e54[27]]());
  }
  if (_0x14A01 != null) {
    _0x14A63 = genWeakBarRestNotes(_0x14A01);
    if (_0x14A63 != _$_1e54[32]) {
      _0x14A63 += _$_1e54[64];
    }
  }
  var _0x11C11 = _$_1e54[32];
  var _0x1493D = getScoreStr();
  if (_0x1493D && _0x1493D != _$_1e54[32]) {
    var _0x148DB = /%%(score|staves).*/;
    var _0x14879 = _0x1189F[_$_1e54[65]](_0x148DB);
    if (_0x14879 != null) {
      _0x1189F = _0x1189F[_$_1e54[66]](_0x14879[0], _0x1493D);
    } else {
      _0x11C11 += _0x1493D + _$_1e54[67];
    }
  }
  _0x11C11 += _0x1499F;
  for (var _0x11901 = 1; _0x11901 <= _0x12C87; _0x11901++) {
    _0x11C11 += _$_1e54[68] + _0x11901 + _$_1e54[67];
    var _0x13C9B = _0x14A63 + genNodesByCount(_0x12BC3);
    if (_0x11901 == 1 && parseInt(_0x12A9D) != -1) {
    }
    _0x11C11 += _0x13C9B + _$_1e54[69] + _0x11901 + _$_1e54[70];
  }
  var _0x12541 = _0x1189F[_$_1e54[52]](_$_1e54[67]);
  var _0x13C39 = _$_1e54[32];
  for (var _0x11901 = 0; _0x11901 < _0x12541[_$_1e54[14]]; _0x11901++) {
    if (_0x12541[_0x11901] == _$_1e54[71]) {
      break;
    }
    _0x13C39 += _0x12541[_0x11901] + _$_1e54[67];
  }
  _0x13C39 += _0x11C11;
  _0x13C39 = handleBreakLine(_0x13C39, parseInt(_0x12A9D));
  var _0x14817 = $(_$_1e54[72])[_$_1e54[27]]();
  if (_0x14817 != _$_1e54[73]) {
    _0x13C39 = _0x13C39[_$_1e54[66]](/M:.*/, _$_1e54[74] + _0x14817);
  }
  $(_$_1e54[56])[_$_1e54[27]](_0x13C39);
  isNew = false;
  src_change();
  doLog();
}
function handleBarNum() {
  var _0x15331 = getStaffInfo(_$_1e54[75]);
  if (!_0x15331) {
    return;
  }
  var _0x12BC3 = parseInt($(_$_1e54[57])[_$_1e54[27]]());
  if (_0x12BC3 > _0x15331[_$_1e54[76]]) {
    appendNodes(_0x12BC3 - _0x15331[_$_1e54[76]]);
  } else {
    if (_0x12BC3 < _0x15331[_$_1e54[76]]) {
      var _0x152CF = [];
      for (
        var _0x11901 = _0x15331[_$_1e54[76]];
        _0x11901 >= _0x12BC3;
        _0x11901--
      ) {
        _0x152CF[_$_1e54[77]](_0x11901);
      }
      delNodes(_0x152CF);
    }
  }
}
function handleBreakLine(_0x1189F, _0x153F5) {
  var _0x154B9 = getLinesInfo(_0x1189F);
  var _0x11C11 = _$_1e54[32];
  var _0x12B61 =
    /(\|[1-9\.]+)|(\|\[[1-9\.]+)|(:\|\|:)|(:\|:)|(:\|)|(::)|(\|:)|(\|\|)|(\|\])|(\|)/g;
  var _0x12BC3 = 0;
  var _0x12AFF = new Map();
  for (
    var _0x11901 = 0, _0x119C5 = _0x154B9[_$_1e54[14]];
    _0x11901 < _0x119C5;
    _0x11901++
  ) {
    var _0x11A27 = _0x154B9[_0x11901];
    if (parseInt(_0x153F5) < 1) {
      if (_0x11A27[_$_1e54[78]] != -1 && _0x11A27[_$_1e54[79]] == _$_1e54[80]) {
        _0x11C11 +=
          _0x11A27[_$_1e54[81]][_$_1e54[66]](/\$/g, _$_1e54[32]) + _$_1e54[67];
      } else {
        _0x11C11 += _0x11A27[_$_1e54[81]] + _$_1e54[67];
      }
    } else {
      if (_0x11A27[_$_1e54[78]] != -1 && _0x11A27[_$_1e54[79]] == _$_1e54[80]) {
        if (
          _0x12AFF[_$_1e54[83]](_$_1e54[82] + _0x11A27[_$_1e54[78]]) == null
        ) {
          _0x12AFF[_$_1e54[84]](_$_1e54[82] + _0x11A27[_$_1e54[78]], 0);
        }
        _0x12BC3 = _0x12AFF[_$_1e54[83]](_$_1e54[82] + _0x11A27[_$_1e54[78]]);
        var _0x11AEB = _0x11A27[_$_1e54[81]];
        _0x11AEB = _0x11AEB[_$_1e54[66]](/\$/g, _$_1e54[32]);
        _0x11AEB = _0x11AEB[_$_1e54[66]](/^\s*/, _$_1e54[32]);
        _0x11AEB = _0x11AEB[_$_1e54[66]](_$_1e54[87], _$_1e54[86])[_$_1e54[66]](
          _$_1e54[85],
          _$_1e54[86]
        );
        var _0x11BAF = _$_1e54[32];
        var _0x15457 = 0;
        var _0x11B4D = _$_1e54[32];
        while ((_0x11BAF = _0x12B61[_$_1e54[91]](_0x11AEB))) {
          if (_0x11BAF[_$_1e54[88]] == 0) {
            continue;
          }
          _0x12BC3++;
          _0x11B4D +=
            _0x11AEB[_$_1e54[89]](_0x15457, _0x11BAF[_$_1e54[88]]) +
            _0x11BAF[0];
          if (_0x12BC3 % _0x153F5 == 0) {
            _0x11B4D += _$_1e54[90];
          }
          _0x15457 = _0x11BAF[_$_1e54[88]] + _0x11BAF[0][_$_1e54[14]];
        }
        _0x12AFF[_$_1e54[84]](_$_1e54[82] + _0x11A27[_$_1e54[78]], _0x12BC3);
        _0x11B4D += _0x11AEB[_$_1e54[89]](_0x15457, _0x11AEB[_$_1e54[14]]);
        _0x11C11 += _0x11B4D + _$_1e54[67];
      } else {
        if (
          _0x11A27[_$_1e54[78]] != -1 &&
          _0x11A27[_$_1e54[79]] == _$_1e54[80]
        ) {
          _0x11C11 +=
            _0x11A27[_$_1e54[81]][_$_1e54[66]](/\$/g, _$_1e54[32]) +
            _$_1e54[67];
        } else {
          _0x11C11 += _0x11A27[_$_1e54[81]] + _$_1e54[67];
        }
      }
    }
  }
  if (_0x11C11[_$_1e54[93]](_$_1e54[92]) < 0) {
    _0x11C11 = _$_1e54[94] + _0x11C11;
  }
  if (parseInt(_0x153F5) < 1) {
    _0x11C11 = _0x11C11[_$_1e54[66]](_$_1e54[94], _$_1e54[32]);
  }
  _0x11C11 = _0x11C11[_$_1e54[66]](/%%barsperstaff.*\n/, _$_1e54[32]);
  return _0x11C11;
}
function handleBarsPerStaff(_0x13C9B, _0x12A9D) {
  var _0x15393 = getBarsArray(_0x13C9B, true);
  var _0x11C11 = _$_1e54[32];
  for (var _0x11901 = 1; _0x11901 <= _0x15393[_$_1e54[14]]; _0x11901++) {
    if (
      _0x15393[_0x11901 - 1][_$_1e54[66]](/\s/g, _$_1e54[32]) != _$_1e54[32]
    ) {
      _0x11C11 += _0x15393[_0x11901 - 1];
      if (_0x11901 > 1 && _0x11901 % _0x12A9D == 0) {
        _0x11C11 += _$_1e54[90];
      }
    }
  }
  return _0x11C11;
}
function getBarsArray(_0x13C9B, _0x14FBF) {
  if (_0x14FBF) {
    return _0x13C9B[_$_1e54[66]](/::/g, _$_1e54[86])
      [_$_1e54[66]](/\$/g, _$_1e54[32])
      [_$_1e54[65]](/.[^\|]*[:]?[|]?\|[:]?[\]]?/g);
  } else {
    return _0x13C9B[_$_1e54[66]](/::/g, _$_1e54[86])[_$_1e54[65]](
      /.[^\|]*[:]?[|]?\|[:]?[\]]?/g
    );
  }
}
function genVSetting(_0x14CAF) {
  var _0x12C87 = parseInt($(_$_1e54[28])[_$_1e54[27]]());
  var _0x11C11 = _$_1e54[95];
  var _0x11901 = 1;
  var _0x14C4D = 1;
  var _0x1493D = _$_1e54[32];
  if (_0x14CAF) {
    var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
    var _0x148DB = /%%score.*|%%staves.*/;
    var _0x13F49 = _0x1189F[_$_1e54[65]](_0x148DB);
    if (_0x13F49 != null) {
      _0x1493D = _0x13F49[0];
    }
  } else {
    _0x1493D = _$_1e54[96];
    for (var _0x11901 = 0; _0x11901 < _0x12C87; _0x11901++) {
      _0x1493D += _0x11901 + 1 + _$_1e54[97];
    }
  }
  _0x1493D += _$_1e54[67];
  _0x11C11 += _0x1493D;
  $[_$_1e54[117]]($(_$_1e54[98]), function (_0x1241B, _0x147B5) {
    _0x11901 = $(_0x147B5)[_$_1e54[100]](_$_1e54[99]);
    var _0x14D11 = $(_$_1e54[101] + _0x11901)[_$_1e54[27]]();
    var _0x14DD5 = $(_$_1e54[102] + _0x11901)[_$_1e54[27]]();
    var _0x14E37 = $(_$_1e54[103] + _0x11901)[_$_1e54[27]]();
    var _0x14E99 = $(_$_1e54[104] + _0x11901)[_$_1e54[27]]();
    var _0x14D73 = $(_$_1e54[107] + _0x11901 + _$_1e54[41])[_$_1e54[106]](
      _$_1e54[105]
    );
    var _0x137A1 = _$_1e54[68] + _0x14C4D++;
    if (_0x14D11 && _0x14D11 != _$_1e54[32]) {
      _0x137A1 += _$_1e54[108] + _0x14D11;
    } else {
      if (_0x1241B % 2 == 0) {
        _0x137A1 += _$_1e54[109];
      } else {
        _0x137A1 += _$_1e54[110];
      }
    }
    if (_0x14D73) {
      _0x137A1 += _$_1e54[111];
    }
    if (_0x14DD5 && _0x14DD5 != _$_1e54[32]) {
      _0x137A1 += _$_1e54[112] + _0x14DD5 + _$_1e54[113];
    }
    if (_0x14E37 && _0x14E37 != _$_1e54[32]) {
      _0x137A1 += _$_1e54[114] + _0x14E37 + _$_1e54[113];
    }
    if (_0x14E99 && _0x14E99 != _$_1e54[32]) {
      _0x137A1 += _$_1e54[115] + _0x14E99;
    } else {
      _0x137A1 += _$_1e54[116];
    }
    _0x11C11 += _0x137A1 + _$_1e54[67];
  });
  if (_0x14C4D == 1) {
    for (var _0x11901 = 0; _0x11901 < _0x12C87; _0x11901++) {
      var _0x14BEB = _$_1e54[32];
      if (_0x11901 % 2 == 0) {
        _0x14BEB = _$_1e54[118];
      } else {
        _0x14BEB = _$_1e54[119];
      }
      _0x11C11 +=
        _$_1e54[68] + (_0x11901 + 1) + _$_1e54[97] + _0x14BEB + _$_1e54[67];
      _0x11C11 += _$_1e54[120];
    }
  }
  _0x11C11 += _$_1e54[121];
  return _0x11C11;
}
function genNodesByCount(_0x12BC3, _0x14AC5) {
  if (!_0x14AC5) {
    var _0x14AC5 = new Object();
    _0x14AC5[_$_1e54[47]] = parseInt($(_$_1e54[48])[_$_1e54[27]]());
    _0x14AC5[_$_1e54[49]] = parseInt($(_$_1e54[50])[_$_1e54[27]]());
  }
  var _0x14B89 = new Object();
  _0x14B89[_$_1e54[47]] = parseInt(
    $(_$_1e54[53])[_$_1e54[27]]()[_$_1e54[52]](_$_1e54[51])[0]
  );
  _0x14B89[_$_1e54[49]] = parseInt(
    $(_$_1e54[53])[_$_1e54[27]]()[_$_1e54[52]](_$_1e54[51])[1]
  );
  var _0x1437F = parseInt(_0x14B89[_$_1e54[49]] / _0x14AC5[_$_1e54[49]]);
  var _0x14B27 = _$_1e54[122] + _0x1437F * _0x14AC5[_$_1e54[47]];
  var _0x11C11 = _$_1e54[32];
  for (var _0x11901 = 0; _0x11901 < _0x12BC3; _0x11901++) {
    _0x11C11 += _$_1e54[97] + _0x14B27 + _$_1e54[123];
  }
  return _0x11C11;
}
function updateStaffProp() {
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  var _0x1836D = genVSetting(true);
  var _0x12357 = /%%vsetting_start[\s\S]*%%vsetting_end\n/;
  var _0x13F49 = _0x1189F[_$_1e54[65]](_0x12357);
  if (_0x13F49 != null) {
    _0x1189F = _0x1189F[_$_1e54[66]](_0x13F49[0], _0x1836D);
    $(_$_1e54[56])[_$_1e54[27]](_0x1189F);
    src_change();
  }
}
function appendNodes(_0x12293) {
  var _0x12C87 = parseInt($(_$_1e54[28])[_$_1e54[27]]());
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  var _0x12A3B = genNodesByCount(_0x12293);
  var _0x11A89 = getLinesInfo(_0x1189F);
  var _0x12B61 =
    /(\|[1-9\.]+)|(\|\[[1-9\.]+)|(:\|\|:)|(:\|:)|(:\|)|(::)|(\|:)|(\|\|)|(\|\])|(\|)/g;
  var _0x12BC3 = 0;
  var _0x11C11 = _$_1e54[32];
  var _0x12AFF = new Map();
  var _0x12C25 = 0;
  for (
    var _0x119C5 = _0x11A89[_$_1e54[14]] - 1, _0x11901 = _0x119C5;
    _0x11901 > 0;
    _0x11901--
  ) {
    var _0x11A27 = _0x11A89[_0x11901];
    var _0x11AEB = _0x11A27[_$_1e54[81]];
    var _0x11B4D = _$_1e54[32];
    if (_0x11A27[_$_1e54[79]] == _$_1e54[80]) {
      if (_0x12AFF[_$_1e54[83]](_$_1e54[124] + _0x11A27[_$_1e54[78]]) == null) {
        _0x12AFF[_$_1e54[84]](_$_1e54[124] + _0x11A27[_$_1e54[78]], true);
        _0x11A27[_$_1e54[81]] = _0x11A27[_$_1e54[81]][_$_1e54[66]](
          /(.*\|)/,
          _$_1e54[125] + _0x12A3B
        );
      }
      _0x12C25++;
    }
  }
  var _0x11C11 = _$_1e54[32];
  for (
    var _0x11901 = 0, _0x119C5 = _0x11A89[_$_1e54[14]];
    _0x11901 < _0x119C5;
    _0x11901++
  ) {
    var _0x11A27 = _0x11A89[_0x11901];
    _0x11C11 += _0x11A27[_$_1e54[81]] + _$_1e54[67];
  }
  if (_0x12C25 == 0) {
    _0x11C11 += _$_1e54[67] + _0x12A3B;
  }
  var _0x12A9D = $(_$_1e54[58])[_$_1e54[27]]();
  _0x11C11 = replaceBlankLine(_0x11C11);
  $(_$_1e54[56])[_$_1e54[27]](_0x11C11);
  changeLineBars();
  src_change();
  doLog();
}
function popAppendNode() {
  $(_$_1e54[126])[_$_1e54[3]](
    _$_1e54[0],
    ($(window)[_$_1e54[1]]() - $(_$_1e54[126])[_$_1e54[1]]()) / 2
  );
  $(_$_1e54[126])[_$_1e54[3]](_$_1e54[1], _$_1e54[127]);
  $(_$_1e54[128])[_$_1e54[5]]();
}
function handleAppendNodes() {
  var _0x12293 = $(_$_1e54[129])[_$_1e54[27]]();
  appendNodes(_0x12293);
}
function handleStaffChange() {
  var _0x11A89 = getLinesInfo($(_$_1e54[56])[_$_1e54[27]]());
  var _0x15331 = getStaffInfo(_$_1e54[75]);
  var _0x156A3 = parseInt($(_$_1e54[28])[_$_1e54[27]]());
  var _0x13C39 = _$_1e54[32];
  var _0x1557D = [];
  var _0x1551B = [];
  if (_0x156A3 > _0x15331[_$_1e54[130]]) {
    var _0x155DF = _$_1e54[32];
    for (
      var _0x11901 = _0x15331[_$_1e54[130]] + 1;
      _0x11901 <= _0x156A3;
      _0x11901++
    ) {
      _0x1551B[_$_1e54[77]](_0x11901);
      _0x155DF += getNewStaffStr(_0x11901, _0x15331[_$_1e54[76]]);
    }
    var _0x13C39 = $(_$_1e54[56])[_$_1e54[27]]() + _0x155DF;
    _0x13C39 = replaceBlankLine(_0x13C39);
  } else {
    if (_0x156A3 < _0x15331[_$_1e54[130]]) {
      for (
        var _0x11901 = _0x15331[_$_1e54[130]];
        _0x11901 > _0x156A3;
        _0x11901--
      ) {
        _0x1557D[_$_1e54[77]](_0x11901);
      }
      for (var _0x11901 = 0; _0x11901 < _0x11A89[_$_1e54[14]]; _0x11901++) {
        var _0x12541 = _0x11A89[_0x11901];
        if (_0x1557D[_$_1e54[93]](_0x12541[_$_1e54[78]] + 1) < 0) {
          if (_0x12541[_$_1e54[79]] == _$_1e54[78]) {
            if (_0x1557D[_$_1e54[93]](_0x12541[_$_1e54[131]] + 1) < 0) {
              _0x13C39 += _0x12541[_$_1e54[81]] + _$_1e54[67];
            }
          } else {
            _0x13C39 += _0x12541[_$_1e54[81]] + _$_1e54[67];
          }
        }
      }
      _0x13C39 = replaceBlankLine(_0x13C39);
    }
  }
  var _0x148DB = /%%score|%%staves/;
  $(_$_1e54[56])[_$_1e54[27]](_0x13C39);
  _0x11A89 = getLinesInfo($(_$_1e54[56])[_$_1e54[27]]());
  var _0x11C11 = _$_1e54[32];
  for (var _0x11901 = 0; _0x11901 < _0x11A89[_$_1e54[14]]; _0x11901++) {
    var _0x12541 = _0x11A89[_0x11901];
    var _0x11AEB = _0x12541[_$_1e54[81]];
    var _0x13F49 = _0x11AEB[_$_1e54[65]](_0x148DB);
    if (_0x13F49 != null) {
      var _0x1493D = _0x13F49[0];
      if (_0x1557D > 0) {
        for (var _0x11963 = 0; _0x11963 < _0x1557D[_$_1e54[14]]; _0x11963++) {
          _0x11AEB = _0x11AEB[_$_1e54[66]](_0x1557D[_0x11963], _$_1e54[32]);
        }
      } else {
        if (_0x1551B > 0) {
          var _0x15641 = _$_1e54[32];
          for (var _0x11963 = 0; _0x11963 < _0x1551B[_$_1e54[14]]; _0x11963++) {
            _0x15641 += _$_1e54[97] + _0x1551B[_0x11963];
          }
          _0x11AEB += _0x15641;
        }
      }
    }
    _0x11C11 += _0x11AEB + _$_1e54[67];
  }
  $(_$_1e54[56])[_$_1e54[27]](_0x11C11);
  src_change(doLog);
}
function getNewStaffStr(_0x150E5, _0x15021) {
  var _0x137A1 = _$_1e54[132] + _0x150E5 + _$_1e54[133];
  var _0x15083 = genNodesByCount(_0x15021);
  return _0x137A1 + _0x15083 + _$_1e54[67];
}
function addBr() {
  var _0x1183D = $(_$_1e54[135])[_$_1e54[134]]();
  if (_0x1183D == _$_1e54[136]) {
    cancelBr();
    return;
  }
  var _0x117DB = $(_$_1e54[138])[_$_1e54[100]](_$_1e54[137]);
  if (!_0x117DB) {
    return;
  }
  _0x117DB = parseInt(_0x117DB);
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  _0x1189F = _0x1189F[_$_1e54[66]](/%%barsperstaff.*\n/, _$_1e54[32]);
  var _0x11A89 = getNodesInfo(_0x1189F);
  var _0x11C11 = _$_1e54[32];
  var _0x11C73 = getSelectedBarInfo(_0x117DB, 0);
  if (_0x11C73[_$_1e54[139]]) {
    _0x117DB--;
    for (
      var _0x11901 = 0, _0x119C5 = _0x11A89[_$_1e54[14]];
      _0x11901 < _0x119C5;
      _0x11901++
    ) {
      var _0x11A27 = _0x11A89[_0x11901];
      var _0x11AEB = _0x11A27[_$_1e54[81]];
      var _0x11B4D = _$_1e54[32];
      if (_0x11A27[_$_1e54[79]] == _$_1e54[80]) {
        for (
          var _0x11963 = 0;
          _0x11963 < _0x11A27[_$_1e54[140]][_$_1e54[14]];
          _0x11963++
        ) {
          var _0x11BAF = _0x11A27[_$_1e54[140]][_0x11963];
          if (_0x11BAF[_$_1e54[141]] == _0x117DB) {
            _0x11B4D += _0x11BAF[_$_1e54[142]] + _$_1e54[90];
          } else {
            _0x11B4D += _0x11BAF[_$_1e54[142]];
          }
          lastNodeEndSeq = _0x11BAF[_$_1e54[143]];
        }
        _0x11B4D += _0x1189F[_$_1e54[89]](
          lastNodeEndSeq,
          _0x11A27[_$_1e54[143]]
        );
        _0x11C11 += _0x11B4D + _$_1e54[67];
      } else {
        _0x11C11 += _0x11A27[_$_1e54[81]] + _$_1e54[67];
      }
    }
    _0x11C11 = replaceBlankLine(_0x11C11);
    $(_$_1e54[56])[_$_1e54[27]](_0x11C11);
    doLog();
    src_change();
    return;
  }
  for (
    var _0x11901 = 0, _0x119C5 = _0x11A89[_$_1e54[14]];
    _0x11901 < _0x119C5;
    _0x11901++
  ) {
    var _0x11A27 = _0x11A89[_0x11901];
    var _0x11AEB = _0x11A27[_$_1e54[81]];
    var _0x11B4D = _$_1e54[32];
    if (_0x11A27[_$_1e54[79]] == _$_1e54[80]) {
      for (
        var _0x11963 = 0;
        _0x11963 < _0x11A27[_$_1e54[140]][_$_1e54[14]];
        _0x11963++
      ) {
        var _0x11BAF = _0x11A27[_$_1e54[140]][_0x11963];
        if (_0x11BAF[_$_1e54[141]] == _0x117DB) {
          _0x11B4D += _$_1e54[90] + _0x11BAF[_$_1e54[142]];
        } else {
          _0x11B4D += _0x11BAF[_$_1e54[142]];
        }
        lastNodeEndSeq = _0x11BAF[_$_1e54[143]];
      }
      _0x11B4D += _0x1189F[_$_1e54[89]](lastNodeEndSeq, _0x11A27[_$_1e54[143]]);
      _0x11C11 += _0x11B4D + _$_1e54[67];
    } else {
      _0x11C11 += _0x11A27[_$_1e54[81]] + _$_1e54[67];
    }
  }
  _0x11C11 = replaceBlankLine(_0x11C11);
  $(_$_1e54[56])[_$_1e54[27]](_0x11C11);
  doLog();
  src_change();
}
function cancelBr() {
  var _0x117DB = $(_$_1e54[138])[_$_1e54[100]](_$_1e54[137]);
  if (!_0x117DB) {
    return;
  }
  _0x117DB = parseInt(_0x117DB);
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  var _0x11A89 = getNodesInfo(_0x1189F);
  var _0x11C11 = _$_1e54[32];
  var _0x12ED3 = getPreBarInfo(_0x117DB, 0);
  if (_0x12ED3[_$_1e54[144]]) {
    _0x117DB--;
    for (
      var _0x11901 = 0, _0x119C5 = _0x11A89[_$_1e54[14]];
      _0x11901 < _0x119C5;
      _0x11901++
    ) {
      var _0x11A27 = _0x11A89[_0x11901];
      var _0x11AEB = _0x11A27[_$_1e54[81]];
      var _0x11B4D = _$_1e54[32];
      if (_0x11A27[_$_1e54[79]] == _$_1e54[80]) {
        var _0x12E71 = false;
        for (
          var _0x11963 = 0;
          _0x11963 < _0x11A27[_$_1e54[140]][_$_1e54[14]];
          _0x11963++
        ) {
          var _0x11BAF = _0x11A27[_$_1e54[140]][_0x11963];
          if (_0x11BAF[_$_1e54[141]] == _0x117DB) {
            _0x12E71 = true;
          }
          _0x11B4D += _0x11BAF[_$_1e54[142]];
          lastNodeEndSeq = _0x11BAF[_$_1e54[143]];
        }
        if (_0x12E71) {
          _0x11B4D += _0x1189F[_$_1e54[89]](
            lastNodeEndSeq,
            _0x11A27[_$_1e54[143]]
          )[_$_1e54[66]](_$_1e54[90], _$_1e54[32]);
        } else {
          _0x11B4D += _0x1189F[_$_1e54[89]](
            lastNodeEndSeq,
            _0x11A27[_$_1e54[143]]
          );
        }
        _0x11C11 += _0x11B4D + _$_1e54[67];
      } else {
        _0x11C11 += _0x11A27[_$_1e54[81]] + _$_1e54[67];
      }
    }
    _0x11C11 = replaceBlankLine(_0x11C11);
    $(_$_1e54[56])[_$_1e54[27]](_0x11C11);
    doLog();
    src_change();
    return;
  }
  for (
    var _0x11901 = 0, _0x119C5 = _0x11A89[_$_1e54[14]];
    _0x11901 < _0x119C5;
    _0x11901++
  ) {
    var _0x11A27 = _0x11A89[_0x11901];
    var _0x11AEB = _0x11A27[_$_1e54[81]];
    var _0x11B4D = _$_1e54[32];
    if (_0x11A27[_$_1e54[79]] == _$_1e54[80]) {
      var _0x12E71 = false;
      for (
        var _0x11963 = 0;
        _0x11963 < _0x11A27[_$_1e54[140]][_$_1e54[14]];
        _0x11963++
      ) {
        var _0x11BAF = _0x11A27[_$_1e54[140]][_0x11963];
        if (_0x11BAF[_$_1e54[141]] == _0x117DB) {
          _0x12E71 = true;
          _0x11B4D += _0x11BAF[_$_1e54[142]][_$_1e54[66]](
            _$_1e54[90],
            _$_1e54[32]
          );
        } else {
          _0x11B4D += _0x11BAF[_$_1e54[142]];
        }
        lastNodeEndSeq = _0x11BAF[_$_1e54[143]];
      }
      if (_0x12E71) {
        _0x11B4D += _0x1189F[_$_1e54[89]](
          lastNodeEndSeq,
          _0x11A27[_$_1e54[143]]
        );
      }
      _0x11C11 += _0x11B4D + _$_1e54[67];
    } else {
      _0x11C11 += _0x11A27[_$_1e54[81]] + _$_1e54[67];
    }
  }
  _0x11C11 = replaceBlankLine(_0x11C11);
  $(_$_1e54[56])[_$_1e54[27]](_0x11C11);
  doLog();
  src_change();
}
function switchNoteBr() {
  if ($(_$_1e54[145])[_$_1e54[106]](_$_1e54[105])) {
    addBr();
  } else {
    cancelBr();
  }
}
function getPreBarInfo(_0x117DB, _0x15147) {
  return getSelectedBarInfo(_0x117DB - 1, _0x15147);
}
function getSelectedBarInfo(_0x117DB, _0x15147) {
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  var _0x11A89 = getNodesInfo(_0x1189F);
  for (
    var _0x11901 = 0, _0x119C5 = _0x11A89[_$_1e54[14]];
    _0x11901 < _0x119C5;
    _0x11901++
  ) {
    var _0x11A27 = _0x11A89[_0x11901];
    var _0x11AEB = _0x11A27[_$_1e54[81]];
    if (
      _0x11A27[_$_1e54[78]] == _0x15147 &&
      _0x11A27[_$_1e54[79]] == _$_1e54[80]
    ) {
      var _0x125A3 = _0x11A27[_$_1e54[140]];
      for (var _0x11963 = 0; _0x11963 < _0x125A3[_$_1e54[14]]; _0x11963++) {
        var _0x11BAF = _0x125A3[_0x11963];
        if (_0x11BAF[_$_1e54[141]] == _0x117DB) {
          return _0x11BAF;
        }
      }
    }
  }
  return null;
}
function getSelectBarContent(_0x117DB, _0x15147) {
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  var _0x11A89 = getNodesInfo(_0x1189F);
  for (
    var _0x11901 = 0, _0x119C5 = _0x11A89[_$_1e54[14]];
    _0x11901 < _0x119C5;
    _0x11901++
  ) {
    var _0x11A27 = _0x11A89[_0x11901];
    var _0x11AEB = _0x11A27[_$_1e54[81]];
    if (
      _0x11A27[_$_1e54[78]] == _0x15147 &&
      _0x11A27[_$_1e54[79]] == _$_1e54[80]
    ) {
      var _0x125A3 = _0x11A27[_$_1e54[140]];
      for (var _0x11963 = 0; _0x11963 < _0x125A3[_$_1e54[14]]; _0x11963++) {
        var _0x11BAF = _0x125A3[_0x11963];
        if (_0x11BAF[_$_1e54[141]] == _0x117DB) {
          return _0x11BAF[_$_1e54[142]];
        }
      }
    }
  }
}
function delNode(_0x117DB) {
  var _0x13D5F = $(_$_1e54[28])[_$_1e54[27]]();
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  for (var _0x11901 = 0; _0x11901 < parseInt(_0x13D5F); _0x11901++) {
    var _0x12357 = new RegExp(
      _$_1e54[146] + (_0x11901 + 1) + _$_1e54[147],
      _$_1e54[148]
    );
    var _0x13CFD = new RegExp(_$_1e54[69] + v + _$_1e54[149]);
    var _0x11A89 = _0x1189F[_$_1e54[65]](_0x12357);
    if (_0x11A89 != null) {
      var _0x13C9B = _$_1e54[32];
      for (
        var _0x11963 = 0, _0x119C5 = _0x11A89[_$_1e54[14]];
        _0x11963 < _0x119C5;
        _0x11963++
      ) {
        _0x13C9B += _0x11A89[_0x11901][_$_1e54[66]](_0x13CFD, _$_1e54[32]);
      }
      if (_0x13C9B != _$_1e54[32]) {
        getBarsArray(_0x13C9B, false);
      }
    }
  }
}
function upDownKeyWord(_0x184F5) {
  var _0x13E85 = $(_$_1e54[150]);
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  if (_0x13E85[_$_1e54[14]] > 0) {
    var _0x17ED5 = new Array();
    $[_$_1e54[117]]($(_0x13E85), function (_0x11901, _0x147B5) {
      var _0x12605 = $(_0x147B5)[_$_1e54[100]](_$_1e54[151]);
      var _0x14F5D = _0x12605[_$_1e54[66]](_$_1e54[153], _$_1e54[32])[
        _$_1e54[66]
      ](_$_1e54[152], _$_1e54[32]);
      var _0x1778F, _0x15147;
      if (_0x14F5D[_$_1e54[93]](_$_1e54[154]) > -1) {
        _0x1778F = parseInt(_0x14F5D[_$_1e54[52]](_$_1e54[154])[1]);
        _0x15147 = parseInt(_0x14F5D[_$_1e54[52]](_$_1e54[154])[0]);
      } else {
        _0x1778F = parseInt(_0x14F5D);
        _0x15147 = -1;
      }
      var _0x1272B = new Object();
      _0x1272B[_$_1e54[155]] = _0x1778F;
      _0x1272B[_$_1e54[78]] = _0x15147;
      _0x17ED5[_$_1e54[77]](_0x1272B);
    });
    if (_0x17ED5[_$_1e54[14]] > 0) {
      var _0x11A89 = getNodesInfo(_0x1189F);
      var _0x12B61 =
        /(\|[1-9\.]+)|(\|\[[1-9\.]+)|(:\|\|:)|(:\|:)|(:\|)|(::)|(\|:)|(\|\|)|(\|\])|(\|)/g;
      var _0x12BC3 = 0;
      var _0x11C11 = _$_1e54[32];
      var _0x12AFF = new Map();
      for (
        var _0x11901 = 0, _0x119C5 = _0x11A89[_$_1e54[14]];
        _0x11901 < _0x119C5;
        _0x11901++
      ) {
        var _0x11A27 = _0x11A89[_0x11901];
        var _0x11AEB = _0x11A27[_$_1e54[81]];
        var _0x11B4D = _$_1e54[32];
        if (_0x11A27[_$_1e54[79]] == _$_1e54[80]) {
          var _0x125A3 = _0x11A27[_$_1e54[140]];
          var _0x18493 = false;
          var _0x1867D = _0x11A27[_$_1e54[143]];
          var _0x18741 = -1;
          for (var _0x1241B = 0; _0x1241B < _0x125A3[_$_1e54[14]]; _0x1241B++) {
            var _0x11BAF = _0x125A3[_0x1241B];
            var _0x18A51 = false;
            var _0x18AB3 = _$_1e54[32];
            for (
              var _0x185B9 = 0;
              _0x185B9 < _0x17ED5[_$_1e54[14]];
              _0x185B9++
            ) {
              var _0x183CF = _0x17ED5[_0x185B9];
              if (
                (_0x11BAF[_$_1e54[78]] == _0x183CF[_$_1e54[78]] ||
                  _0x183CF[_$_1e54[78]] == -1) &&
                _0x11BAF[_$_1e54[141]] == _0x183CF[_$_1e54[155]]
              ) {
                _0x18AB3 = updownnote(_0x11BAF[_$_1e54[142]], _0x184F5);
                _0x18A51 = true;
                _0x18493 = true;
              }
            }
            _0x18741 = _0x11BAF[_$_1e54[143]];
            if (!_0x18A51) {
              _0x11B4D += _0x11BAF[_$_1e54[142]];
            } else {
              _0x11B4D += _0x18AB3;
            }
          }
          if (_0x18741 < _0x1867D) {
            _0x11B4D += _0x1189F[_$_1e54[89]](_0x18741, _0x1867D);
          }
          if (_0x18493) {
            _0x11C11 += _0x11B4D + _$_1e54[67];
          } else {
            _0x11C11 += _0x11AEB + _$_1e54[67];
          }
        } else {
          _0x11C11 += _0x11A27[_$_1e54[81]] + _$_1e54[67];
        }
      }
    }
    _0x11C11 = replaceBlankLine(_0x11C11);
    $(_$_1e54[56])[_$_1e54[27]](_0x11C11);
    src_change();
    doLog();
    return true;
  }
  if ($(_$_1e54[156])[_$_1e54[14]] > 1 || $(_$_1e54[157])[_$_1e54[14]] > 1) {
    var _0x18805 = _0x1189F + _$_1e54[32];
    var _0x13C39 = _$_1e54[32];
    var _0x1305B = 0;
    var _0x1861B = 0;
    var _0x18557 = 0;
    var _0x1892B = [];
    $(_$_1e54[180])[_$_1e54[117]](function (_0x11901, _0x147B5) {
      var _0x12FF9 = -1;
      _0x12FF9 = $(_0x147B5)[_$_1e54[100]](_$_1e54[158]);
      if (_0x12FF9 == -1) {
        return false;
      }
      var _0x13245 = syms[_0x12FF9];
      update_note_index = 0;
      if (_0x13245 && _0x13245[_$_1e54[159]][_$_1e54[14]] > 1) {
        var _0x18B15 = _0x18805[_$_1e54[89]](
          _0x13245[_$_1e54[158]],
          _0x13245[_$_1e54[160]]
        );
        var _0x11BAF = /\[(.[^\[]*)\]/[_$_1e54[91]](_0x18B15);
        if (_0x11BAF != null) {
          var _0x137A1 = _0x11BAF[1];
          var _0x18431 = str2notes(_0x137A1);
          var _0x18BD9 = _$_1e54[32];
          for (var _0x1241B = 0; _0x1241B < _0x18431[_$_1e54[14]]; _0x1241B++) {
            _0x18BD9 += _0x18431[_0x1241B][_$_1e54[80]];
          }
          _0x1189F =
            _0x1189F[_$_1e54[89]](0, _0x13245[_$_1e54[158]]) +
            _$_1e54[161] +
            _0x18BD9 +
            _0x18B15[_$_1e54[89]](_0x18B15[_$_1e54[93]](_$_1e54[162])) +
            _0x1189F[_$_1e54[89]](_0x13245[_$_1e54[160]]);
          $(_$_1e54[56])[_$_1e54[27]](_0x1189F);
          update_note_index = $(_0x147B5)[_$_1e54[100]](_$_1e54[163]);
          if (
            update_note_index == -1 &&
            $(_0x147B5)[_$_1e54[165]](_$_1e54[164])
          ) {
            update_note_index = $(_0x147B5)
              [_$_1e54[167]](_$_1e54[166])
              [_$_1e54[100]](_$_1e54[163]);
          }
          update_note_index_arr[_$_1e54[77]](update_note_index);
          update_note_istart_arr[_$_1e54[77]](_0x13245[_$_1e54[158]]);
          var _0x18C3B = _0x18431[update_note_index];
          var _0x189EF = _0x18431[update_note_index][_$_1e54[80]];
          console[_$_1e54[170]](
            _$_1e54[168],
            update_note_index,
            _$_1e54[169],
            _0x18431[update_note_index]
          );
          var _0x187A3 = _0x18C3B[_$_1e54[88]] + _0x184F5;
          var _0x186DF = updownnote(_0x189EF, _0x184F5);
          console[_$_1e54[170]](_$_1e54[171], _0x189EF, _$_1e54[172], _0x186DF);
          _0x18557 += _0x186DF[_$_1e54[14]] - _0x189EF[_$_1e54[14]];
          var _0x1272B = new Object();
          var _0x18B77 = false;
          for (var _0x11963 = 0; _0x11963 < _0x1892B[_$_1e54[14]]; _0x11963++) {
            var _0x14F5D = _0x1892B[_0x11963];
            if (_0x14F5D[_$_1e54[158]] == _0x13245[_$_1e54[158]]) {
              _0x1272B = _0x1892B[_0x11963];
              _0x18B77 = true;
            }
          }
          if (_0x18B77) {
            _0x1272B[_$_1e54[173]][_$_1e54[77]](_0x189EF);
            _0x1272B[_$_1e54[174]][_$_1e54[77]](_0x186DF);
            _0x1272B[_$_1e54[175]][_$_1e54[77]](parseInt(update_note_index));
          } else {
            _0x1272B[_$_1e54[158]] = _0x13245[_$_1e54[158]];
            _0x1272B[_$_1e54[160]] = _0x13245[_$_1e54[160]];
            _0x1272B[_$_1e54[176]] = [][_$_1e54[177]](_0x18431);
            _0x1272B[_$_1e54[173]] = [];
            _0x1272B[_$_1e54[173]][_$_1e54[77]](_0x189EF);
            _0x1272B[_$_1e54[174]] = [];
            _0x1272B[_$_1e54[174]][_$_1e54[77]](_0x186DF);
            _0x1272B[_$_1e54[175]] = [];
            _0x1272B[_$_1e54[175]][_$_1e54[77]](parseInt(update_note_index));
            _0x1892B[_$_1e54[77]](_0x1272B);
          }
          return true;
        }
      }
      var _0x187A3 = mypit2mid(_0x13245, 0) + _0x184F5;
      play_note(_0x187A3, durSetting);
      update_note_istart_arr[_$_1e54[77]](parseInt(_0x12FF9) + _0x18557);
      if (!_0x13245) {
        return;
      }
      var _0x18867 = _0x1189F[_$_1e54[89]](
        _0x13245[_$_1e54[158]],
        _0x13245[_$_1e54[160]]
      );
      var _0x182A9 = str2notes(_0x18867[_$_1e54[66]](/[\[\]]/g, _$_1e54[32]));
      console[_$_1e54[170]](_$_1e54[178], _0x182A9[update_note_index]);
      updateNoteIndexInChord = update_note_index;
      if (!_0x182A9[update_note_index]) {
        return;
      }
      var _0x189EF = _0x182A9[update_note_index][_$_1e54[80]];
      var _0x186DF = updownnote(_0x189EF, _0x184F5);
      var _0x178B5 = _0x18867[_$_1e54[66]](_0x189EF, _0x186DF);
      console[_$_1e54[170]](_$_1e54[179], _0x178B5);
      _0x18557 += _0x178B5[_$_1e54[14]] - _0x18867[_$_1e54[14]];
      _0x13C39 +=
        _0x1189F[_$_1e54[89]](_0x1861B, _0x13245[_$_1e54[158]]) + _0x178B5;
      _0x1305B = _0x13245[_$_1e54[158]];
      _0x1861B = _0x13245[_$_1e54[160]];
    });
    if (_0x1892B[_$_1e54[14]] > 0) {
      for (var _0x11901 = 0; _0x11901 < _0x1892B[_$_1e54[14]]; _0x11901++) {
        var _0x1272B = _0x1892B[_0x11901];
        var _0x18431 = _0x1272B[_$_1e54[176]];
        var _0x18867 = _0x1189F[_$_1e54[89]](
          _0x1272B[_$_1e54[158]],
          _0x1272B[_$_1e54[160]]
        );
        var _0x13181 = _0x18867[_$_1e54[89]](
          0,
          _0x18867[_$_1e54[93]](_$_1e54[161]) + 1
        );
        var _0x16EC1 = _0x18867[_$_1e54[89]](
          _0x18867[_$_1e54[93]](_$_1e54[162])
        );
        var _0x186DF = _$_1e54[32];
        for (var _0x11963 = 0; _0x11963 < _0x18431[_$_1e54[14]]; _0x11963++) {
          var _0x188C9 = false;
          var _0x14753 = _$_1e54[32];
          for (
            var _0x1241B = 0;
            _0x1241B < _0x1272B[_$_1e54[175]][_$_1e54[14]];
            _0x1241B++
          ) {
            var _0x1898D = _0x1272B[_$_1e54[175]][_0x1241B];
            if (_0x1898D == _0x11963) {
              _0x188C9 = true;
              _0x14753 = _0x1272B[_$_1e54[174]][_0x1241B];
            }
          }
          if (_0x188C9) {
            _0x186DF += _0x14753;
          } else {
            _0x186DF += _0x18431[_0x11963][_$_1e54[80]];
          }
        }
        if (_0x186DF != _$_1e54[32]) {
          _0x186DF = _0x13181 + _0x186DF + _0x16EC1;
          console[_$_1e54[170]](_$_1e54[179], _0x186DF);
          _0x13C39 =
            _0x1189F[_$_1e54[89]](0, _0x1272B[_$_1e54[158]]) +
            _0x186DF +
            _0x1189F[_$_1e54[89]](_0x1272B[_$_1e54[160]]);
        }
      }
      $(_$_1e54[56])[_$_1e54[27]](_0x13C39);
      lastFirstNoteSeq = getFirstNoteSeq();
      src_change();
      doLog();
      return true;
    }
    if (_0x13C39 != _$_1e54[32]) {
      _0x13C39 += _0x1189F[_$_1e54[89]](_0x1861B);
      $(_$_1e54[56])[_$_1e54[27]](_0x13C39);
      lastFirstNoteSeq = getFirstNoteSeq();
      src_change();
      doLog();
      return true;
    }
  }
  if ($(_$_1e54[156])[_$_1e54[14]] == 1 || $(_$_1e54[157])[_$_1e54[14]] == 1) {
    var _0x12FF9 = -1;
    if ($(_$_1e54[156])[_$_1e54[14]] > 0) {
      _0x12FF9 = $(_$_1e54[156])[_$_1e54[100]](_$_1e54[158]);
    } else {
      if ($(_$_1e54[157])[_$_1e54[14]] > 0) {
        _0x12FF9 = $(_$_1e54[181])[_$_1e54[100]](_$_1e54[158]);
      }
    }
    if (_0x12FF9 == -1) {
      return false;
    }
    var _0x13245 = syms[_0x12FF9];
    var _0x187A3 = mypit2mid(_0x13245, 0) + _0x184F5;
    play_note(_0x187A3, durSetting);
    var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
    update_note_index = 0;
    if (_0x13245 && _0x13245[_$_1e54[159]][_$_1e54[14]] > 1) {
      update_note_index = $(_$_1e54[182])[_$_1e54[100]](_$_1e54[163]);
    }
    update_note_istart = _0x12FF9;
    if (!_0x13245) {
      return;
    }
    var _0x18867 = _0x1189F[_$_1e54[89]](
      _0x13245[_$_1e54[158]],
      _0x13245[_$_1e54[160]]
    );
    var _0x182A9 = str2notes(_0x18867[_$_1e54[66]](/[\[\]]/g, _$_1e54[32]));
    console[_$_1e54[170]](_$_1e54[178], _0x182A9[update_note_index]);
    updateNoteIndexInChord = update_note_index;
    if (!_0x182A9[update_note_index]) {
      return;
    }
    var _0x189EF = _0x182A9[update_note_index][_$_1e54[80]];
    var _0x186DF = updownnote(_0x189EF, _0x184F5);
    var _0x178B5 = _0x18867[_$_1e54[66]](_0x189EF, _0x186DF);
    console[_$_1e54[170]](_$_1e54[179], _0x178B5);
    var _0x13C39 =
      _0x1189F[_$_1e54[89]](0, _0x13245[_$_1e54[158]]) +
      _0x178B5 +
      _0x1189F[_$_1e54[89]](_0x13245[_$_1e54[160]]);
    $(_$_1e54[56])[_$_1e54[27]](_0x13C39);
    lastFirstNoteSeq = getFirstNoteSeq();
    src_change();
    doLog();
    return true;
  }
  return false;
}
function handleWeakBar() {
  genInitStaff();
}
function getScoreStr() {
  return _$_1e54[32];
  var _0x137A1 = _$_1e54[96];
  var _0x1520B = 0;
  var _0x151A9 = 0;
  $[_$_1e54[117]]($(_$_1e54[183]), function (_0x11901, _0x147B5) {
    var _0x1526D = $(_0x147B5)[_$_1e54[27]]();
    if (parseInt(_0x1526D) < 7) {
      _0x1520B++;
      _0x137A1 += _$_1e54[184];
    } else {
      if (_0x1520B > 0) {
        _0x1520B--;
        if (_0x1520B > 0) {
          _0x137A1 += _$_1e54[185];
        }
      }
    }
    if (_0x1520B == 1) {
    }
    _0x137A1 += _0x11901 + _$_1e54[97];
  });
  return _0x137A1;
}
function delStaff(_0x1272B) {
  var _0x13DC1 = $(_0x1272B)[_$_1e54[100]](_$_1e54[99]);
  $(_$_1e54[33] + _0x13DC1)[_$_1e54[36]]();
  $(_$_1e54[28])[_$_1e54[27]](parseInt($(_$_1e54[28])[_$_1e54[27]]()) - 1);
  genInitStaff();
}
function addStaff() {
  $(_$_1e54[28])[_$_1e54[27]](parseInt($(_$_1e54[28])[_$_1e54[27]]()) + 1);
  genInitStaff();
  initStaffProp();
}
function backfilStaffProp(_0x12E0F) {
  $(_$_1e54[28])[_$_1e54[27]](_0x12E0F[_$_1e54[130]]);
  if (has_weak_node) {
    $(_$_1e54[57])[_$_1e54[27]](_0x12E0F[_$_1e54[76]] - 1);
  } else {
    $(_$_1e54[57])[_$_1e54[27]](_0x12E0F[_$_1e54[76]]);
  }
  if (_0x12E0F[_$_1e54[186]] != -1) {
    $(_$_1e54[58])[_$_1e54[27]](_0x12E0F[_$_1e54[186]]);
  } else {
    $(_$_1e54[58])[_$_1e54[27]](_$_1e54[32]);
  }
  if (_0x12E0F[_$_1e54[187]] && _0x12E0F[_$_1e54[188]] > 0) {
    $(_$_1e54[61])[_$_1e54[106]](_$_1e54[105], true);
    $(_$_1e54[62])[_$_1e54[190]](_$_1e54[189]);
    $(_$_1e54[62])[_$_1e54[27]](_0x12E0F[_$_1e54[191]][_$_1e54[47]]);
    $(_$_1e54[63])[_$_1e54[190]](_$_1e54[189]);
    $(_$_1e54[63])[_$_1e54[27]](_0x12E0F[_$_1e54[191]][_$_1e54[49]]);
  } else {
    $(_$_1e54[61])[_$_1e54[106]](_$_1e54[105], false);
    $(_$_1e54[62])[_$_1e54[100]](_$_1e54[189], _$_1e54[189]);
    $(_$_1e54[63])[_$_1e54[100]](_$_1e54[189], _$_1e54[189]);
  }
  if (_0x12E0F[_$_1e54[192]] != -1) {
    $(_$_1e54[193])[_$_1e54[27]](_0x12E0F[_$_1e54[192]]);
  } else {
    $(_$_1e54[193])[_$_1e54[27]](_$_1e54[32]);
  }
  if (_0x12E0F[_$_1e54[194]] != null) {
    $(_$_1e54[48])[_$_1e54[27]](_0x12E0F[_$_1e54[194]][_$_1e54[47]]);
    $(_$_1e54[50])[_$_1e54[27]](_0x12E0F[_$_1e54[194]][_$_1e54[49]]);
  }
  if (_0x12E0F[_$_1e54[195]]) {
    $(_$_1e54[196])[_$_1e54[106]](_$_1e54[105], true);
  } else {
    $(_$_1e54[196])[_$_1e54[106]](_$_1e54[105], false);
  }
  $(_$_1e54[198])[_$_1e54[27]](_0x12E0F[_$_1e54[197]]);
  if (_0x12E0F[_$_1e54[199]] && _0x12E0F[_$_1e54[199]][_$_1e54[194]]) {
    var _0x12DAD =
      _0x12E0F[_$_1e54[199]][_$_1e54[194]][_$_1e54[47]] +
      _$_1e54[51] +
      _0x12E0F[_$_1e54[199]][_$_1e54[194]][_$_1e54[49]];
    var _0x12CE9 = [
      _$_1e54[200],
      _$_1e54[201],
      _$_1e54[202],
      _$_1e54[203],
      _$_1e54[204],
      _$_1e54[205],
    ];
    var _0x12D4B = _0x12CE9[_$_1e54[93]](_0x12DAD);
    $(_$_1e54[206])[_$_1e54[27]](_0x12E0F[_$_1e54[199]][_$_1e54[27]]);
    if (_0x12D4B) {
      selectSpeed(_0x12D4B + 1, _0x12DAD);
    }
  }
  if (_0x12E0F[_$_1e54[124]] != null) {
    $(_$_1e54[207])[_$_1e54[27]](_0x12E0F[_$_1e54[124]]);
    switchJiTaChord(_0x12E0F[_$_1e54[124]]);
    swithchJianPu(_0x12E0F[_$_1e54[124]]);
  }
  if (_0x12E0F[_$_1e54[208]] != null) {
    $(_$_1e54[209])[_$_1e54[27]](_0x12E0F[_$_1e54[208]]);
  }
  if (_0x12E0F[_$_1e54[210]] != null) {
    $(_$_1e54[211])[_$_1e54[27]](_0x12E0F[_$_1e54[210]]);
    $(_$_1e54[211])[_$_1e54[3]](_$_1e54[212], _0x12E0F[_$_1e54[210]]);
  }
  if (_0x12E0F[_$_1e54[213]] != null) {
    $(_$_1e54[214])[_$_1e54[27]](_0x12E0F[_$_1e54[213]]);
  }
  if (_0x12E0F[_$_1e54[215]] != null) {
    $(_$_1e54[216])[_$_1e54[27]](_0x12E0F[_$_1e54[215]]);
    $(_$_1e54[216])[_$_1e54[3]](_$_1e54[212], _0x12E0F[_$_1e54[215]]);
  }
}
function genDotInfo(_0x14133, _0x141F7) {
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  var _0x145CB = _0x1189F[_$_1e54[89]](
    _0x14133[_$_1e54[158]],
    _0x14133[_$_1e54[160]]
  );
  var _0x1400D = new Object();
  var _0x14569 = _0x14133[_$_1e54[217]];
  var _0x143E1 = _0x14133[_$_1e54[217]] * _0x141F7;
  var _0x14259 = _0x143E1 - _0x14569;
  var _0x1462D = /([\/0-9]+)/g;
  var _0x13F49 = _0x145CB[_$_1e54[65]](_0x1462D);
  var _0x1406F = _0x145CB;
  if (_0x13F49 != null) {
    var _0x1468F = _0x13F49[0];
    _0x1406F = _0x145CB[_$_1e54[31]](_0x1468F, _$_1e54[32]);
    if (1 == 2) {
      var _0x142BB = _0x1468F[_$_1e54[93]](_$_1e54[51]);
      var _0x1431D = /\d/[_$_1e54[218]](_0x1468F);
      if (_0x142BB > 0 && !_0x1431D) {
        _0x145CB =
          _0x145CB[_$_1e54[89]](0, _0x142BB) +
          val +
          _0x145CB[_$_1e54[89]](_0x142BB);
      } else {
        if (_0x142BB == -1 && _0x1431D) {
          var _0x1437F = parseInt(_0x1468F);
          var _0x144A5 = 1;
          if (val == _$_1e54[219]) {
            _0x144A5 = 7 / 4;
          } else {
            if (val == _$_1e54[220]) {
              _0x144A5 = 3 / 2;
            }
          }
          var _0x14443 = _0x1437F * _0x144A5;
          _0x14443 = decimalsToFractional(_0x14443) + _$_1e54[32];
          _0x14443 = _0x14443[_$_1e54[66]](_$_1e54[223], _$_1e54[224])
            [_$_1e54[66]](_$_1e54[222], _$_1e54[51])
            [_$_1e54[66]](_$_1e54[221], _$_1e54[32]);
          _0x145CB = _0x145CB[_$_1e54[66]](/\d/g, _0x14443);
        }
      }
    }
  }
  _0x1400D[_$_1e54[80]] = _0x1406F;
  _0x1406F = _0x1406F + getDurStrByNoteDur(_0x143E1, _0x14133[_$_1e54[225]]);
  var _0x14195 = new Array();
  var _0x146F1 = null;
  var _0x14507 = _0x14133[_$_1e54[226]];
  while (_0x14507) {
    if (_0x14507[_$_1e54[79]] != 8 && _0x14507[_$_1e54[79]] != 10) {
      if (_0x14507[_$_1e54[79]] == 0) {
        _0x1400D[_$_1e54[227]] = 1;
        _0x1400D[_$_1e54[228]] = _0x14259;
      }
      _0x14195[_$_1e54[77]](abc[_$_1e54[229]](_0x14507, 2));
      _0x14507 = _0x14507[_$_1e54[226]];
      if (_0x14507 == null) {
        for (
          var _0x11901 = _0x14133[_$_1e54[158]] + 1,
            _0x119C5 = syms[_$_1e54[14]];
          _0x11901 < _0x119C5;
          _0x11901++
        ) {
          var _0x1437F = syms[_0x11901];
          if (_0x1437F) {
            if (
              _0x1437F[_$_1e54[78]] == _0x14133[_$_1e54[78]] &&
              (_0x1437F[_$_1e54[79]] == 8 || _0x1437F[_$_1e54[79]] == 10)
            ) {
              _0x14507 = _0x1437F;
              break;
            }
          }
        }
      }
      continue;
    }
    if (
      (_0x14507[_$_1e54[79]] == 8 || _0x14507[_$_1e54[79]] == 10) &&
      _0x14507[_$_1e54[217]] <= _0x14259
    ) {
      _0x14259 = _0x14259 - _0x14507[_$_1e54[217]];
      if (_0x14259 <= 0) {
        if (_0x14259 == 0) {
          _0x14195[_$_1e54[77]](abc[_$_1e54[229]](_0x14507, 2));
        } else {
          if (_0x14259 < 0) {
            _0x146F1 = _0x14507;
            _0x146F1[_$_1e54[217]] = _0x14507[_$_1e54[217]] - _0x14259;
            _0x146F1[_$_1e54[230]] = _0x146F1[_$_1e54[217]];
            _0x146F1[_$_1e54[159]][_$_1e54[231]](function (_0x147B5, _0x11901) {
              _0x146F1[_$_1e54[159]][_0x11901][_$_1e54[217]] =
                _0x146F1[_$_1e54[217]];
            });
            var _0x14753 = _0x1189F[_$_1e54[89]](
              _0x146F1[_$_1e54[158]],
              _0x146F1[_$_1e54[160]]
            );
            _0x14753 = _0x14753[_$_1e54[66]](_0x1462D, _$_1e54[32]);
            _0x146F1[_$_1e54[232]] =
              _0x14753 +
              getDurStrByNoteDur(
                _0x146F1[_$_1e54[217]],
                _0x14133[_$_1e54[225]]
              );
          }
        }
        break;
      }
      _0x14195[_$_1e54[77]](abc[_$_1e54[229]](_0x14507, 2));
      _0x14507 = _0x14507[_$_1e54[226]];
    } else {
      _0x146F1 = _0x14507;
      _0x146F1[_$_1e54[230]] = _0x146F1[_$_1e54[217]] + 0;
      _0x146F1[_$_1e54[217]] = _0x14507[_$_1e54[217]] - _0x14259;
      _0x146F1[_$_1e54[159]][_$_1e54[231]](function (_0x147B5, _0x11901) {
        _0x146F1[_$_1e54[159]][_0x11901][_$_1e54[217]] = _0x146F1[_$_1e54[217]];
      });
      var _0x14753 = _0x1189F[_$_1e54[89]](
        _0x146F1[_$_1e54[158]],
        _0x146F1[_$_1e54[160]]
      );
      _0x14753 = _0x14753[_$_1e54[66]](_0x1462D, _$_1e54[32]);
      _0x146F1[_$_1e54[232]] =
        _0x14753 +
        getDurStrByNoteDur(_0x146F1[_$_1e54[217]], _0x14133[_$_1e54[225]]);
      break;
    }
  }
  _0x1400D[_$_1e54[233]] = _0x143E1;
  _0x1400D[_$_1e54[234]] = _0x14133[_$_1e54[225]];
  _0x1400D[_$_1e54[235]] = _0x1406F;
  _0x1400D[_$_1e54[236]] = _0x14195;
  _0x1400D[_$_1e54[237]] = _0x146F1;
  replaceNote(
    _$_1e54[75],
    _0x14133[_$_1e54[158]],
    _0x14133[_$_1e54[160]],
    _0x1400D
  );
  return;
  _0x1189F =
    _0x1189F[_$_1e54[89]](0, _0x14133[_$_1e54[158]]) +
    _0x145CB +
    _0x1189F[_$_1e54[89]](_0x14133[_$_1e54[160]]);
  $(_$_1e54[56])[_$_1e54[27]](_0x1189F);
  if (musicType == 2) {
    src_change();
  } else {
    render();
  }
  doLog();
  return;
}
function setBarBgColor() {
  var _0x1646B = $(_$_1e54[238])[_$_1e54[27]]();
  if (_0x1646B[_$_1e54[93]](_$_1e54[239]) < 0) {
    _0x1646B = _$_1e54[239] + _0x1646B;
  }
  setNodeBgColor(_0x1646B);
}
function switchBarRestShow(_0x151A9) {
  console[_$_1e54[170]](_$_1e54[240]);
  var _0x13E85 = $(_$_1e54[150]);
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  if (_0x13E85[_$_1e54[14]] > 0) {
    var _0x17ED5 = new Array();
    $[_$_1e54[117]]($(_0x13E85), function (_0x11901, _0x147B5) {
      var _0x12605 = $(_0x147B5)[_$_1e54[100]](_$_1e54[151]);
      var _0x14F5D = _0x12605[_$_1e54[66]](_$_1e54[153], _$_1e54[32])[
        _$_1e54[66]
      ](_$_1e54[152], _$_1e54[32]);
      var _0x1778F, _0x15147;
      if (_0x14F5D[_$_1e54[93]](_$_1e54[154]) > -1) {
        _0x1778F = parseInt(_0x14F5D[_$_1e54[52]](_$_1e54[154])[1]);
        _0x15147 = parseInt(_0x14F5D[_$_1e54[52]](_$_1e54[154])[0]);
      } else {
        _0x1778F = parseInt(_0x14F5D);
        _0x15147 = -1;
      }
      var _0x1272B = new Object();
      _0x1272B[_$_1e54[155]] = _0x1778F;
      _0x1272B[_$_1e54[78]] = _0x15147;
      _0x17ED5[_$_1e54[77]](_0x1272B);
    });
    if (_0x17ED5[_$_1e54[14]] > 0) {
      var _0x11A89 = getNodesInfo(_0x1189F);
      var _0x12B61 =
        /(\|[1-9\.]+)|(\|\[[1-9\.]+)|(:\|\|:)|(:\|:)|(:\|)|(::)|(\|:)|(\|\|)|(\|\])|(\|)/g;
      var _0x12BC3 = 0;
      var _0x11C11 = _$_1e54[32];
      var _0x12AFF = new Map();
      var _0x17F99 = [];
      for (
        var _0x11901 = 0, _0x119C5 = _0x11A89[_$_1e54[14]];
        _0x11901 < _0x119C5;
        _0x11901++
      ) {
        var _0x11A27 = _0x11A89[_0x11901];
        var _0x11AEB = _0x11A27[_$_1e54[81]];
        var _0x11B4D = _$_1e54[32];
        if (_0x11A27[_$_1e54[79]] == _$_1e54[80]) {
          var _0x125A3 = _0x11A27[_$_1e54[140]];
          var _0x124DF = -1;
          for (var _0x1241B = 0; _0x1241B < _0x125A3[_$_1e54[14]]; _0x1241B++) {
            var _0x17FFB = _0x125A3[_0x1241B];
            var _0x17E73 = _0x1189F[_$_1e54[89]](
              _0x17FFB[_$_1e54[241]],
              _0x17FFB[_$_1e54[143]]
            );
            var _0x165F3 = _0x17E73;
            for (
              var _0x11963 = 0;
              _0x11963 < _0x17ED5[_$_1e54[14]];
              _0x11963++
            ) {
              var _0x17F37 = _0x17ED5[_0x11963];
              if (
                _0x17F37[_$_1e54[155]] == _0x17FFB[_$_1e54[141]] &&
                _0x17F37[_$_1e54[78]] == _0x17FFB[_$_1e54[78]] &&
                _0x17F99[_$_1e54[93]](
                  _0x17F37[_$_1e54[155]] + _$_1e54[242] + _0x17F37[_$_1e54[78]]
                ) < 0
              ) {
                if (_0x151A9 == _$_1e54[243]) {
                  _0x165F3 = _0x17E73[_$_1e54[66]](_$_1e54[122], _$_1e54[244])[
                    _$_1e54[66]
                  ](_$_1e54[55], _$_1e54[244]);
                } else {
                  if (_0x151A9 == _$_1e54[245]) {
                    _0x165F3 = _0x17E73[_$_1e54[66]](_$_1e54[244], _$_1e54[55]);
                  }
                }
                _0x17F99[_$_1e54[77]](
                  _0x17F37[_$_1e54[155]] + _$_1e54[242] + _0x17F37[_$_1e54[78]]
                );
              }
            }
            _0x11C11 += _0x165F3;
            _0x124DF = _0x17FFB[_$_1e54[143]];
          }
          if (_0x124DF < _0x11A27[_$_1e54[143]]) {
            _0x11C11 += _0x1189F[_$_1e54[89]](_0x124DF, _0x11A27[_$_1e54[143]]);
          }
        } else {
          _0x11C11 += _0x11A27[_$_1e54[81]] + _$_1e54[67];
        }
      }
    }
    $(_$_1e54[56])[_$_1e54[27]](_0x11C11);
    src_change();
    doLog();
    return true;
  }
}
function changeSGch() {
  var _0x123B9 = $(_$_1e54[246])[_$_1e54[27]]();
  var _0x13555 = $(_$_1e54[246])[_$_1e54[100]](_$_1e54[247]);
  var _0x12FF9 = $(selectGchInfo)[_$_1e54[100]](_$_1e54[158]);
  var _0x13245 = syms[_0x12FF9];
  if (_0x13245) {
    var _0x1342F = _0x13245[_$_1e54[248]];
    var _0x13491 = getGchInfo(_0x13245, _0x13555);
    if (_0x13491 != null) {
      var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
      var _0x134F3 =
        $(_$_1e54[249])[_$_1e54[27]]() + $(_$_1e54[250])[_$_1e54[27]]();
      var _0x133CD = $(_$_1e54[251])[_$_1e54[27]]();
      if (_0x133CD != 14) {
        _0x134F3 += _$_1e54[252] + _0x133CD + _$_1e54[162];
      }
      _0x134F3 += _0x123B9;
      var _0x1336B = _$_1e54[184];
      var _0x12293 = 0;
      if ($(_$_1e54[253])[_$_1e54[27]]() != _$_1e54[32]) {
        _0x1336B += _$_1e54[254] + $(_$_1e54[253])[_$_1e54[27]]();
        _0x12293++;
      }
      if ($(_$_1e54[255])[_$_1e54[27]]() != _$_1e54[32]) {
        if (_0x12293 > 0) {
          _0x1336B += _$_1e54[256];
        }
        _0x1336B += _$_1e54[257] + $(_$_1e54[255])[_$_1e54[27]]();
        _0x12293++;
      }
      _0x1336B += _$_1e54[185];
      if (_0x12293 == 0) {
        _0x1336B = _$_1e54[32];
      }
      _0x1189F =
        _0x1189F[_$_1e54[89]](0, _0x13491[_$_1e54[158]]) +
        _$_1e54[113] +
        _0x134F3 +
        _0x1336B +
        _$_1e54[113] +
        _0x1189F[_$_1e54[89]](_0x13491[_$_1e54[160]]);
      $(_$_1e54[56])[_$_1e54[27]](_0x1189F);
      doLog();
      src_change(function () {
        $(_$_1e54[261] + _0x13491[_$_1e54[158]] + _$_1e54[162])
          [_$_1e54[100]](_$_1e54[260], _$_1e54[260])
          [_$_1e54[3]](_$_1e54[258], _$_1e54[259]);
        selectGchInfo = $(_$_1e54[261] + _0x13491[_$_1e54[158]] + _$_1e54[162]);
        $(_$_1e54[246])[_$_1e54[100]](_$_1e54[247], _0x123B9);
      });
    }
  }
}
function syncText() {
  if (event[_$_1e54[262]] == 13) {
    changeSGch();
  }
}
function setSlurDirect(_0x173BB) {
  var _0x16A29 = _$_1e54[32];
  if (_0x173BB == _$_1e54[263]) {
    _0x16A29 = _$_1e54[264];
  } else {
    if (_0x173BB == _$_1e54[265]) {
      _0x16A29 = _$_1e54[256];
    }
  }
  var _0x1741D = $(_$_1e54[266]);
  if (_0x1741D[_$_1e54[14]] > 0) {
    var _0x12FF9 = $(_0x1741D)[_$_1e54[100]](_$_1e54[158]);
    var _0x13245 = syms[_0x12FF9];
    var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
    var _0x13181 = _0x1189F[_$_1e54[89]](0, _0x12FF9);
    lastIndex = _0x13181[_$_1e54[268]](_$_1e54[267]) + 1;
    var _0x15641 = _0x1189F[_$_1e54[269]](lastIndex, 1);
    if (_0x15641 == _$_1e54[256] || _0x15641 == _$_1e54[264]) {
      _0x1189F =
        _0x1189F[_$_1e54[89]](0, lastIndex) +
        _0x16A29 +
        _0x1189F[_$_1e54[89]](lastIndex + 1);
    } else {
      _0x1189F =
        _0x1189F[_$_1e54[89]](0, lastIndex) +
        _0x16A29 +
        _0x1189F[_$_1e54[89]](lastIndex);
    }
    $(_$_1e54[56])[_$_1e54[27]](_0x1189F);
    doLog();
    src_change();
  }
}
function switchJiTaChord(_0x1805D) {
  $(_$_1e54[270])[_$_1e54[243]]();
  $(_$_1e54[271] + _0x1805D + _$_1e54[41])[_$_1e54[245]]();
  switchHx(_0x1805D);
}
function swithchJianPu(_0x1805D) {
  var _0x1830B = _0x1805D[_$_1e54[66]](_$_1e54[239], _$_1e54[32])[_$_1e54[66]](
    _$_1e54[272],
    _$_1e54[32]
  );
  var _0x182A9 = [
    _$_1e54[273],
    _$_1e54[274],
    _$_1e54[275],
    _$_1e54[276],
    _$_1e54[277],
    _$_1e54[278],
    _$_1e54[279],
    _$_1e54[280],
    _$_1e54[281],
    _$_1e54[282],
    _$_1e54[283],
    _$_1e54[284],
    _$_1e54[285],
    _$_1e54[286],
    _$_1e54[287],
    _$_1e54[288],
    _$_1e54[289],
    _$_1e54[290],
    _$_1e54[148],
    _$_1e54[291],
    _$_1e54[272],
  ];
  var _0x18247 = _0x182A9[_$_1e54[93]](_0x1830B);
  if (_0x18247 > 10) {
    _0x18247 = _0x18247 - 7;
  }
  $[_$_1e54[117]]($(_$_1e54[292]), function (_0x11901, _0x147B5) {
    $(_0x147B5)[_$_1e54[100]](_$_1e54[293], _0x182A9[_0x18247++]);
    $(_0x147B5)[_$_1e54[134]](_0x11901 + 1);
    $(_0x147B5)[_$_1e54[100]](_$_1e54[294], 0);
  });
}
function jianPuOperatorUp8(_0x15AD9) {
  var _0x15B3B = _$_1e54[32];
  if (_0x15AD9 > 0) {
    _0x15B3B += _$_1e54[264];
  } else {
    if (_0x15AD9 < 0) {
      _0x15B3B += _$_1e54[256];
    }
  }
  $[_$_1e54[117]]($(_$_1e54[295]), function (_0x11901, _0x147B5) {
    var _0x123B9 = $(_0x147B5)[_$_1e54[100]](_$_1e54[293]) + _0x15B3B;
    var _0x15BFF = parseInt($(_0x147B5)[_$_1e54[100]](_$_1e54[294])) + _0x15AD9;
    if (Math[_$_1e54[296]](_0x15BFF) > 2) {
      return;
    }
    _0x123B9 = _0x123B9[_$_1e54[66]](_$_1e54[298], _$_1e54[32])[_$_1e54[66]](
      _$_1e54[297],
      _$_1e54[32]
    );
    _0x123B9 = _0x123B9[_$_1e54[66]](
      /([cdefgab]),/,
      function (_0x15C61, _0x15CC3, _0x15D25) {
        console[_$_1e54[170]](_0x15C61, _0x15CC3, _0x15D25);
        return _0x15CC3[_$_1e54[299]]();
      }
    );
    _0x123B9 = _0x123B9[_$_1e54[66]](
      /([CDEFGAB])'/,
      function (_0x15C61, _0x15CC3, _0x15D25) {
        console[_$_1e54[170]](_0x15C61, _0x15CC3, _0x15D25);
        return _0x15CC3[_$_1e54[300]]();
      }
    );
    $(_0x147B5)[_$_1e54[100]](_$_1e54[293], _0x123B9);
    $(_0x147B5)[_$_1e54[100]](_$_1e54[294], _0x15BFF);
    var _0x15B9D = _$_1e54[32];
    if (_0x15BFF > 0) {
      _0x15B9D = _$_1e54[301] + _0x15BFF + _$_1e54[302];
    } else {
      if (_0x15BFF < 0) {
        _0x15B9D = _$_1e54[303] + Math[_$_1e54[296]](_0x15BFF) + _$_1e54[302];
      }
    }
    $(_0x147B5)[_$_1e54[305]](_$_1e54[304])[_$_1e54[36]]();
    $(_0x147B5)[_$_1e54[34]]($(_0x15B9D));
  });
}
function mergeNote() {
  var _0x15EAD = $(_$_1e54[156])[_$_1e54[14]];
  if (_0x15EAD == 2) {
    var _0x15F71 = $(_$_1e54[156])[0];
    var _0x15DE9 = $(_$_1e54[156])[1];
    var _0x15F0F = parseInt($(_0x15F71)[_$_1e54[100]](_$_1e54[158]));
    var _0x15D87 = parseInt($(_0x15DE9)[_$_1e54[100]](_$_1e54[158]));
    if (_0x15F0F > _0x15D87) {
      var _0x14F5D = _0x15F0F + 0;
      _0x15F0F = _0x15D87 + 0;
      _0x15D87 = _0x14F5D;
    }
    var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
    var _0x15FD3 = syms[_0x15F0F];
    var _0x15E4B = syms[_0x15D87];
    var _0x1311F = _0x1189F[_$_1e54[89]](
      _0x15FD3[_$_1e54[160]],
      _0x15E4B[_$_1e54[158]]
    );
    _0x1311F = _0x1311F[_$_1e54[66]](/\s/g, _$_1e54[32]);
    _0x1189F =
      _0x1189F[_$_1e54[89]](0, _0x15FD3[_$_1e54[160]]) +
      _0x1311F +
      _0x1189F[_$_1e54[89]](_0x15E4B[_$_1e54[158]]);
    $(_$_1e54[56])[_$_1e54[27]](_0x1189F);
    doLog();
    src_change();
  } else {
    window[_$_1e54[47]][_$_1e54[307]](_$_1e54[306]);
  }
}
var lastCoorStrLen = 0;
function setGchPos(_0x1621F) {
  var _0x12FF9 = $(_$_1e54[308])[_$_1e54[27]]();
  var _0x13245 = syms[_0x12FF9];
  if (_0x13245) {
    var _0x1342F = _0x13245[_$_1e54[248]];
    var _0x123B9 = $(_$_1e54[246])[_$_1e54[27]]();
    if (_0x123B9 == _$_1e54[32]) {
      _0x123B9 = $(_$_1e54[309])[_$_1e54[27]]();
    }
    var _0x13491 = getGchInfo(_0x13245, _0x123B9);
    if (_0x13491 != null) {
      getGchCoorInfo(_0x13491[_$_1e54[310]]);
      lastCoorStrLen = $(_$_1e54[311])[_$_1e54[27]]()[_$_1e54[14]];
      var _0x1241B = $(_$_1e54[253])[_$_1e54[27]]();
      var _0x1247D = $(_$_1e54[255])[_$_1e54[27]]();
      if (_0x1241B == _$_1e54[32]) {
        _0x1241B = 0;
      }
      if (_0x1247D == _$_1e54[32]) {
        _0x1247D == 0;
      }
      if (_0x1621F == _$_1e54[0]) {
        _0x1241B--;
      } else {
        if (_0x1621F == _$_1e54[312]) {
          _0x1241B++;
        } else {
          if (_0x1621F == _$_1e54[263]) {
            _0x1247D++;
          } else {
            if (_0x1621F == _$_1e54[265]) {
              _0x1247D--;
            }
          }
        }
      }
      $(_$_1e54[253])[_$_1e54[27]](_0x1241B);
      $(_$_1e54[255])[_$_1e54[27]](_0x1247D);
      var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
      var _0x134F3 =
        ($(_$_1e54[249])[_$_1e54[27]]()
          ? $(_$_1e54[249])[_$_1e54[27]]()
          : _$_1e54[32]) + $(_$_1e54[250])[_$_1e54[27]]();
      if ($(_$_1e54[314])[_$_1e54[3]](_$_1e54[313]) == _$_1e54[315]) {
        _0x134F3 =
          $(_$_1e54[316])[_$_1e54[27]]() + $(_$_1e54[317])[_$_1e54[27]]();
      }
      var _0x133CD = $(_$_1e54[251])[_$_1e54[27]]();
      if (_0x133CD != 14) {
        _0x134F3 += _$_1e54[252] + _0x133CD + _$_1e54[162];
      }
      _0x134F3 += _0x123B9;
      var _0x1336B = genGchCoorStr();
      var _0x16A8B = _0x1336B[_$_1e54[14]];
      $(_$_1e54[308])[_$_1e54[27]](
        parseInt(_0x12FF9) + parseInt(_0x16A8B - lastCoorStrLen)
      );
      _0x134F3 += _0x1336B;
      _0x1189F =
        _0x1189F[_$_1e54[89]](0, _0x13491[_$_1e54[158]]) +
        _$_1e54[113] +
        _0x134F3 +
        _$_1e54[113] +
        _0x1189F[_$_1e54[89]](_0x13491[_$_1e54[160]]);
      $(_$_1e54[56])[_$_1e54[27]](_0x1189F);
      doLog();
      src_change(reselectGch);
    }
  }
}
function reselectGch() {
  var _0x12FF9 = $(_$_1e54[308])[_$_1e54[27]]();
  $(_$_1e54[318] + _0x12FF9 + _$_1e54[41])
    [_$_1e54[3]](_$_1e54[258], _$_1e54[259])
    [_$_1e54[100]](_$_1e54[260], _$_1e54[260]);
}
function changeMusicSpace(_0x12F35) {
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  if (_0x1189F[_$_1e54[93]](_$_1e54[319]) > -1) {
    _0x1189F = _0x1189F[_$_1e54[66]](/%%musicspace.*/, _$_1e54[320] + _0x12F35);
  } else {
    _0x1189F = _$_1e54[320] + _0x12F35 + _$_1e54[67] + _0x1189F;
  }
  $(_$_1e54[56])[_$_1e54[27]](_0x1189F);
  src_change();
}
function changeTitleSpace(_0x12F35) {
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  if (_0x1189F[_$_1e54[93]](_$_1e54[321]) > -1) {
    _0x1189F = _0x1189F[_$_1e54[66]](/%%titlespace.*/, _$_1e54[322] + _0x12F35);
  } else {
    _0x1189F = _$_1e54[322] + _0x12F35 + _$_1e54[67] + _0x1189F;
  }
  $(_$_1e54[56])[_$_1e54[27]](_0x1189F);
  src_change();
}
function changeComposerSpace(_0x12F35) {
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  if (_0x1189F[_$_1e54[93]](_$_1e54[323]) > -1) {
    _0x1189F = _0x1189F[_$_1e54[66]](
      /%%composerspace.*/,
      _$_1e54[324] + _0x12F35
    );
  } else {
    _0x1189F = _$_1e54[324] + _0x12F35 + _$_1e54[67] + _0x1189F;
  }
  $(_$_1e54[56])[_$_1e54[27]](_0x1189F);
  src_change();
}
function setDirName() {
  var _0x16A29 = _$_1e54[325] + new Date()[_$_1e54[327]](_$_1e54[326]);
  $(_$_1e54[328])[_$_1e54[27]](_0x16A29);
}
function uploadNotePic() {
  setDirName();
  ossUploadType = _$_1e54[329];
  $(_$_1e54[331])[_$_1e54[330]]();
}
function uploadNotePicCallback(_0x18C9D) {
  var _0x140D1 = $(_$_1e54[156]);
  var _0x12FF9 = $(_0x140D1)[_$_1e54[100]](_$_1e54[158]);
  if (_0x12FF9 && _0x12FF9 != -1) {
    var _0x13245 = syms[_0x12FF9];
    if (_0x13245) {
      lastSelectedNoteIstart = parseInt(_0x12FF9);
      var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
      var _0x13C39 = _$_1e54[32];
      lastSelectedNoteIstart = lastSelectedNoteIstart + _0x18C9D[_$_1e54[14]];
      _0x13C39 =
        _0x1189F[_$_1e54[89]](0, _0x13245[_$_1e54[158]]) +
        _0x18C9D +
        _0x1189F[_$_1e54[89]](_0x13245[_$_1e54[158]]);
      $(_$_1e54[56])[_$_1e54[27]](_0x13C39);
      src_change(reSelectNote);
      doLog();
    }
  }
}
function enabledInsertWord(_0x1272B) {
  user[_$_1e54[332]] = false;
  if ($(_0x1272B)[_$_1e54[165]](_$_1e54[333])) {
    $(_$_1e54[336])[_$_1e54[3]](_$_1e54[334], _$_1e54[335]);
    $(_0x1272B)[_$_1e54[337]](_$_1e54[333]);
    src_change();
  } else {
    if ($(_$_1e54[338])[_$_1e54[165]](_$_1e54[333])) {
      switchPrachEditor();
    }
    if ($(_$_1e54[339])[_$_1e54[165]](_$_1e54[333])) {
      enabledEditor($(_$_1e54[339])[0]);
    }
    $(_0x1272B)[_$_1e54[340]](_$_1e54[333]);
    $(_$_1e54[336])[_$_1e54[3]](_$_1e54[334], _$_1e54[310]);
    user[_$_1e54[332]] = true;
  }
}
function addEditorText(_0x11E5D, _0x11D37, _0x11D99, _0x11DFB, _0x11CD5) {
  var _0x120A9 = $(_$_1e54[336])[_$_1e54[341]]()[_$_1e54[47]];
  var _0x12047 = $(_$_1e54[336])[_$_1e54[341]]()[_$_1e54[0]];
  var _0x1210B = _0x11E5D[_$_1e54[342]];
  if (_0x1210B == null) {
    return;
  }
  if (_0x1210B[_$_1e54[343]][_$_1e54[300]]() != _$_1e54[344]) {
    var _0x11FE5 = $(_0x1210B)[_$_1e54[345]](_$_1e54[344]);
    _0x1210B = _0x11FE5[_0x11FE5[_$_1e54[14]] - 1];
  } else {
    _0x1210B = $(_0x1210B);
    if (_0x1210B[_$_1e54[14]] > 1) {
      return;
    }
  }
  var _0x11EBF = document[_$_1e54[347]](_$_1e54[346]);
  $(_0x11EBF)
    [_$_1e54[3]](_$_1e54[351], 99999)
    [_$_1e54[3]](_$_1e54[349], _$_1e54[350])
    [_$_1e54[3]](_$_1e54[212], _$_1e54[348]);
  $(_0x11EBF)[_$_1e54[100]](_$_1e54[352], _$_1e54[353]);
  $(_0x11EBF)[_$_1e54[340]](_$_1e54[354]);
  $(_0x11EBF)[_$_1e54[100]](_$_1e54[79], _$_1e54[355]);
  if (_0x11D37) {
    $(_0x11EBF)[_$_1e54[310]](_0x11D37);
  }
  var _0x11F21 = false;
  var _0x11F83 = false;
  $(_0x11EBF)[_$_1e54[357]](function (_0x1216D) {
    console[_$_1e54[170]](_$_1e54[356]);
    _0x11F21 = true;
  });
  $(_0x11EBF)[_$_1e54[367]](function (_0x1216D) {
    console[_$_1e54[170]](_$_1e54[358], _0x1216D);
    _0x11F21 = false;
    var _0x121CF = this;
    setTimeout(function () {
      if (_0x11F21) {
        return;
      }
      var _0x123B9 = $(_0x121CF)[_$_1e54[134]]();
      var _0x122F5 = null;
      var _0x12357 = /\<div(([\s\S])*?)\<\/div\>/g;
      var _0x12231 = [];
      var _0x12293 = 0;
      while ((_0x122F5 = _0x12357[_$_1e54[91]](_0x123B9))) {
        if (_0x12293 == 0) {
          if (_0x122F5[_$_1e54[88]] != 0) {
            _0x12231[_$_1e54[77]](
              _0x123B9[_$_1e54[89]](0, _0x122F5[_$_1e54[88]])
            );
          }
        }
        _0x12231[_$_1e54[77]](
          _0x122F5[1]
            [_$_1e54[31]](_$_1e54[360], _$_1e54[32])
            [_$_1e54[66]](_$_1e54[359], _$_1e54[32])
            [_$_1e54[66]](/\s/g, _$_1e54[32])
        );
        _0x12293++;
      }
      if (_0x12293 == 0) {
        _0x12231[_$_1e54[77]](
          _0x123B9[_$_1e54[66]](/\s/g, _$_1e54[32])[_$_1e54[31]](
            _$_1e54[360],
            _$_1e54[32]
          )
        );
      }
      while (_0x12231[_0x12231[_$_1e54[14]] - 1] == _$_1e54[32]) {
        _0x12231[_$_1e54[361]](_0x12231[_$_1e54[14]] - 1, 1);
      }
      console[_$_1e54[170]](_0x12231);
      $(_0x121CF)[_$_1e54[36]]();
      if (_0x11CD5) {
        updateMyTextInfo(null, null, _0x11CD5, _0x123B9);
      } else {
        if (_0x123B9 != _$_1e54[32]) {
          var _0x1241B = parseInt(
            parseInt(
              $(_0x11EBF)
                [_$_1e54[3]](_$_1e54[0])
                [_$_1e54[66]](_$_1e54[362], _$_1e54[32])
            ) / scale
          );
          var _0x1247D = parseInt(
            (parseInt(
              $(_0x11EBF)
                [_$_1e54[3]](_$_1e54[47])
                [_$_1e54[66]](_$_1e54[362], _$_1e54[32])
            ) -
              ($(_0x1210B)[_$_1e54[341]]()[_$_1e54[47]] -
                $(_$_1e54[363])[_$_1e54[341]]()[_$_1e54[47]] +
                $(_$_1e54[363])[_$_1e54[364]]()) +
              15) /
              scale
          );
          console[_$_1e54[170]](_$_1e54[365], _0x1241B, _0x1247D);
          if (_0x11CD5) {
            updateMyTextInfo(_0x1241B, _0x1247D, _0x11CD5);
          } else {
            addText2SvgAndSource(
              _0x1241B,
              _0x1247D,
              _0x1210B,
              _0x123B9,
              new Date()[_$_1e54[366]]()
            );
          }
        }
      }
    }, 50);
  });
  $(_0x11EBF)[_$_1e54[3]]({
    left: _0x11D99 ? _0x11D99 : _0x11E5D[_$_1e54[368]] + 1,
    top: _0x11DFB ? _0x11DFB : _0x11E5D[_$_1e54[369]] - _0x120A9,
    "min-width": 40,
    "min-height": 30,
  });
  $(_$_1e54[336])[_$_1e54[34]]($(_0x11EBF));
  $(_0x11EBF)[_$_1e54[357]]();
  showProperties(_$_1e54[310], _0x11E5D);
}
var dragMyText = false;
var hasDragMyText = false;
var myTextMouseDownTime = 0;
function addText2Svg(_0x1241B, _0x1247D, _0x1210B, _0x1278D, _0x12605) {
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  var _0x1272B = new Object();
  _0x1272B[_$_1e54[310]] = _0x1278D;
  _0x1272B[_$_1e54[370]] = 14;
  _0x1272B[_$_1e54[371]] = $(_0x1210B)[_$_1e54[100]](_$_1e54[88]);
  var _0x126C9 = _$_1e54[372];
  var _0x12667 = document[_$_1e54[373]](_0x126C9, _$_1e54[310]);
  _0x12667[_$_1e54[374]](_$_1e54[151], _0x12605);
  _0x1272B[_$_1e54[151]] = _0x12605;
  _0x12667[_$_1e54[374]](_$_1e54[244], _0x1241B);
  _0x12667[_$_1e54[374]](_$_1e54[79], _$_1e54[355]);
  _0x1272B[_$_1e54[244]] = _0x1241B;
  _0x12667[_$_1e54[374]](_$_1e54[369], _0x1247D + 15);
  _0x1272B[_$_1e54[369]] = _0x1247D;
  $(_0x12667)[_$_1e54[3]](_$_1e54[375], _$_1e54[376]);
  _0x12667[_$_1e54[384]](_$_1e54[377], function (_0x1216D) {
    if (user[_$_1e54[378]] == _$_1e54[379]) {
      myTextMouseDownTime = new Date()[_$_1e54[366]]();
      dragMyText = true;
      $(_$_1e54[381])[_$_1e54[337]](_$_1e54[380]);
      $(this)[_$_1e54[340]](_$_1e54[380]);
      _0x1216D[_$_1e54[382]]();
      _0x1216D[_$_1e54[383]]();
      return false;
    }
  });
  _0x12667[_$_1e54[384]](_$_1e54[385], function (_0x1216D) {
    if (user[_$_1e54[378]] == _$_1e54[379]) {
      if (dragMyText) {
        var _0x128B3 = $(_0x1216D[_$_1e54[342]])[_$_1e54[345]](_$_1e54[148])[0];
        var _0x12915 = $(_0x128B3)[_$_1e54[100]](_$_1e54[386]);
        var _0x12851 = getTransformsTranslate(_0x12915);
        if (_0x12851 == null) {
          _0x12851 = new Object();
          _0x12851[_$_1e54[244]] = 0;
          _0x12851[_$_1e54[369]] = 0;
        }
        $(event[_$_1e54[342]])[_$_1e54[100]](
          _$_1e54[244],
          _0x1216D[_$_1e54[368]] / scale -
            $(_0x1216D[_$_1e54[342]])[0][_$_1e54[387]]()[_$_1e54[1]] / 2
        );
        $(event[_$_1e54[342]])[_$_1e54[100]](
          _$_1e54[369],
          _0x1216D[_$_1e54[388]] / scale - _0x12851[_$_1e54[369]] + 5
        );
      }
      _0x1216D[_$_1e54[382]]();
      _0x1216D[_$_1e54[383]]();
      return false;
    }
  });
  _0x12667[_$_1e54[384]](_$_1e54[389], function (_0x1216D) {
    if (user[_$_1e54[378]] == _$_1e54[379]) {
      var _0x12977 = new Date()[_$_1e54[366]]();
      if (_0x12977 - myTextMouseDownTime < 200) {
        return;
      }
      dragMyText = false;
      var _0x11FE5 = $(this)[_$_1e54[345]](_$_1e54[344]);
      var _0x1210B = _0x11FE5[_0x11FE5[_$_1e54[14]] - 1];
      var _0x1241B = parseInt(parseInt($(this)[_$_1e54[100]](_$_1e54[244])));
      var _0x1247D = parseInt(
        parseInt($(this)[_$_1e54[100]](_$_1e54[369])) - 15
      );
      console[_$_1e54[170]](_$_1e54[365], _0x1241B, _0x1247D);
      updateMyTextInfo(_0x1241B, _0x1247D, $(this)[_$_1e54[100]](_$_1e54[151]));
      _0x1216D[_$_1e54[382]]();
      _0x1216D[_$_1e54[383]]();
      return false;
    }
  });
  _0x12667[_$_1e54[384]](_$_1e54[390], function (_0x1216D) {
    addEditorText(
      _0x1216D,
      $(_0x12667)[_$_1e54[310]](),
      parseInt($(_0x12667)[_$_1e54[100]](_$_1e54[244])) * scale,
      parseInt($(_0x12667)[_$_1e54[100]](_$_1e54[369])) * scale - 15,
      $(_0x12667)[_$_1e54[100]](_$_1e54[151])
    );
  });
  var _0x127EF = document[_$_1e54[391]](_0x1278D);
  _0x12667[_$_1e54[392]](_0x127EF);
  $(_0x1210B)[_$_1e54[167]](_$_1e54[148])[_$_1e54[34]](_0x12667);
  return _0x1272B;
}
function delMyTextInfo(_0x12605) {
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  var _0x12357 = new RegExp(_$_1e54[393] + _0x12605 + _$_1e54[394]);
  var _0x11BAF = _0x12357[_$_1e54[91]](_0x1189F);
  if (_0x11BAF != null) {
    console[_$_1e54[170]](_0x11BAF[0]);
    var _0x137A1 = _0x11BAF[0];
    _0x1189F = _0x1189F[_$_1e54[66]](_0x137A1, _$_1e54[32]);
    _0x1189F = replaceBlankLine(_0x1189F);
    $(_$_1e54[56])[_$_1e54[27]](_0x1189F);
    doLog();
    src_change();
  }
}
function updateMyTextInfo(_0x1241B, _0x1247D, _0x12605, _0x123B9) {
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  var _0x12357 = new RegExp(_$_1e54[393] + _0x12605 + _$_1e54[394]);
  var _0x11BAF = _0x12357[_$_1e54[91]](_0x1189F);
  if (_0x11BAF != null) {
    console[_$_1e54[170]](_0x11BAF[0]);
    var _0x137A1 = _0x11BAF[0];
    var _0x1272B = JSON[_$_1e54[395]](_0x137A1);
    if (_0x1241B) {
      _0x1272B[_$_1e54[244]] = _0x1241B;
    }
    if (_0x1247D) {
      _0x1272B[_$_1e54[369]] = _0x1247D;
    }
    if (_0x123B9) {
      _0x1272B[_$_1e54[310]] = _0x123B9;
    }
    var _0x178B5 = JSON[_$_1e54[396]](_0x1272B);
    _0x1189F = _0x1189F[_$_1e54[66]](_0x137A1, _0x178B5);
    _0x1189F = replaceBlankLine(_0x1189F);
    $(_$_1e54[56])[_$_1e54[27]](_0x1189F);
    doLog();
    src_change();
  }
}
function addText2SvgAndSource(
  _0x1241B,
  _0x1247D,
  _0x1210B,
  _0x1278D,
  _0x12605
) {
  var _0x129D9 = addText2Svg(_0x1241B, _0x1247D, _0x1210B, _0x1278D, _0x12605);
  setMyText(JSON[_$_1e54[396]](_0x129D9));
}
function setMyText(_0x137A1) {
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  var _0x12357 = /%%beginmytext([\n\r\s\S]*)%%endmytext/;
  var _0x13F49 = _0x1189F[_$_1e54[65]](_0x12357);
  var _0x16FE7 = _$_1e54[397];
  if (_0x13F49 != null) {
    _0x16FE7 += _0x13F49[1] + _0x137A1;
    _0x16FE7 += _$_1e54[398];
    _0x1189F = _0x1189F[_$_1e54[66]](_0x13F49[0], _0x16FE7);
  } else {
    _0x16FE7 += _$_1e54[67] + _0x137A1;
    _0x16FE7 += _$_1e54[399];
    _0x1189F = _0x16FE7 + _0x1189F;
  }
  $(_$_1e54[56])[_$_1e54[27]](_0x1189F);
}
function changeSlyric() {
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  var _0x1278D = $(_$_1e54[400])[_$_1e54[27]]();
  var _0x13803 = $(_$_1e54[401])[_$_1e54[27]]();
  var _0x1367B = $(_$_1e54[402])[_$_1e54[27]]();
  var _0x13619 = $(_$_1e54[403])[_$_1e54[27]]();
  var _0x135B7 = $(_$_1e54[404])[_$_1e54[27]]();
  var _0x137A1 = _$_1e54[32];
  if (_0x135B7 == _$_1e54[312]) {
    _0x137A1 += _$_1e54[405];
  }
  _0x137A1 += _0x1278D;
  if (_0x1367B != _$_1e54[32]) {
    _0x137A1 += _$_1e54[406] + _0x1367B + _$_1e54[162];
  }
  if (_0x13803 != _$_1e54[32]) {
    _0x137A1 += _$_1e54[407] + _0x13803 + _$_1e54[162];
  }
  var _0x1373F = $(_$_1e54[408])[_$_1e54[27]]();
  var _0x136DD = $(_$_1e54[409])[_$_1e54[27]]();
  _0x1189F =
    _0x1189F[_$_1e54[89]](0, _0x1373F) +
    _0x13619 +
    _0x137A1 +
    _0x1189F[_$_1e54[89]](_0x136DD);
  $(_$_1e54[56])[_$_1e54[27]](_0x1189F);
  doLog();
  src_change(function () {
    var _0x13245 = syms[_0x1373F];
    $(_$_1e54[410] + _0x1373F + _$_1e54[41])[_$_1e54[3]](
      _$_1e54[258],
      _$_1e54[259]
    );
    $(_$_1e54[409])[_$_1e54[27]](_0x13245[_$_1e54[160]]);
  });
}
function switchLyricAlign(_0x135B7) {
  var _0x180BF = _$_1e54[32];
  if (_0x135B7 == _$_1e54[312]) {
    _0x180BF = _$_1e54[405];
  } else {
    if (_0x135B7 == _$_1e54[0]) {
      _0x180BF = _$_1e54[411];
    }
  }
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  var _0x1373F = $(_$_1e54[408])[_$_1e54[27]]();
  var _0x136DD = $(_$_1e54[409])[_$_1e54[27]]();
  var _0x16CD7 = _0x1189F[_$_1e54[89]](_0x1373F, _0x136DD);
  _0x16CD7 = _0x16CD7[_$_1e54[66]](_$_1e54[405], _$_1e54[32])[_$_1e54[66]](
    _$_1e54[411],
    _$_1e54[32]
  );
  _0x1189F =
    _0x1189F[_$_1e54[89]](0, _0x1373F) +
    _0x180BF +
    _0x16CD7 +
    _0x1189F[_$_1e54[89]](_0x136DD);
  $(_$_1e54[56])[_$_1e54[27]](_0x1189F);
  doLog();
  src_change(function () {
    var _0x13245 = syms[_0x1373F];
    $(_$_1e54[410] + _0x1373F + _$_1e54[41])[_$_1e54[3]](
      _$_1e54[258],
      _$_1e54[259]
    );
    $(_$_1e54[409])[_$_1e54[27]](_0x13245[_$_1e54[160]]);
  });
}
function setLyricBgColor() {
  var _0x1646B = $(_$_1e54[412])[_$_1e54[27]]();
  if (_0x1646B[_$_1e54[93]](_$_1e54[239]) < 0) {
    _0x1646B = _$_1e54[239] + _0x1646B;
  }
  _0x1646B = colorRGB(_0x1646B);
  var _0x14C4D = lyricBgArray[_$_1e54[14]];
  var _0x13B13 = $(_$_1e54[413]);
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  var _0x13BD7 = 0;
  var _0x1398B = 0;
  var _0x13B75 = 0;
  var _0x12357 = /\[[se]\.lb\.[^\]]*\]/;
  var _0x16AED = /\[[se]\.lb\.([0-9]{1,})\..*\]/;
  if (lyricBgArray[_$_1e54[14]] > 0) {
    for (var _0x11901 = 0; _0x11901 < lyricBgArray[_$_1e54[14]]; _0x11901++) {
      var _0x16C75 = lyricBgArray[_0x11901];
      var _0x16D39 = parseInt(_0x16C75[_$_1e54[414]]);
      if (_0x16D39 >= _0x14C4D) {
        _0x14C4D = _0x16D39 + 1;
      }
    }
  }
  if (_0x13B13[_$_1e54[14]] == 1) {
    _0x13BD7 = $(_0x13B13)[_$_1e54[100]](_$_1e54[415]);
    var _0x137A1 =
      _$_1e54[416] + _0x14C4D + _$_1e54[417] + _0x1646B + _$_1e54[162];
    _0x13B75 = _0x137A1[_$_1e54[14]];
    var _0x13245 = syms[_0x13BD7];
    var _0x16CD7 = _0x1189F[_$_1e54[89]](
      _0x13245[_$_1e54[158]],
      _0x13245[_$_1e54[160]]
    );
    if (_0x16CD7[_$_1e54[93]](_$_1e54[416]) == 0) {
    }
    var _0x16EC1 = _0x1189F[_$_1e54[89]](_0x13BD7);
    if (_0x12357[_$_1e54[218]](_0x16CD7)) {
      _0x16EC1 = _0x16EC1[_$_1e54[66]](_0x12357, _$_1e54[32]);
      _0x13B75 -= _0x12357[_$_1e54[91]](_0x16CD7)[0][_$_1e54[14]];
      var _0x13AB1 = _0x16AED[_$_1e54[91]](_0x16CD7)[1];
      _0x137A1 =
        _$_1e54[416] + _0x13AB1 + _$_1e54[417] + _0x1646B + _$_1e54[162];
    }
    _0x1189F = _0x1189F[_$_1e54[89]](0, _0x13BD7) + _0x137A1 + _0x16EC1;
  } else {
    if (_0x13B13[_$_1e54[14]] == 2) {
      var _0x16E5F =
        _$_1e54[416] + _0x14C4D + _$_1e54[417] + _0x1646B + _$_1e54[162];
      var _0x16B4F =
        _$_1e54[418] + _0x14C4D + _$_1e54[417] + _0x1646B + _$_1e54[162];
      _0x13BD7 = parseInt($(_0x13B13[0])[_$_1e54[100]](_$_1e54[415]));
      _0x1398B = parseInt($(_0x13B13[1])[_$_1e54[100]](_$_1e54[415]));
      if (_0x13BD7 > _0x1398B) {
        var _0x16F23 = _0x13BD7 - 0;
        _0x13BD7 = _0x1398B - 0;
        _0x1398B = _0x16F23;
      }
      _0x13B75 += _0x16E5F[_$_1e54[14]];
      var _0x16DFD = syms[_0x13BD7];
      var _0x16C13 = syms[_0x1398B];
      var _0x16D9B = _0x1189F[_$_1e54[89]](
        _0x16DFD[_$_1e54[158]],
        _0x16DFD[_$_1e54[160]]
      );
      var _0x16BB1 = _0x1189F[_$_1e54[89]](
        _0x16C13[_$_1e54[158]],
        _0x16C13[_$_1e54[160]]
      );
      var _0x1311F = _0x1189F[_$_1e54[89]](_0x13BD7, _0x1398B);
      var _0x16EC1 = _0x1189F[_$_1e54[89]](_0x1398B);
      if (_0x12357[_$_1e54[218]](_0x16D9B)) {
        _0x1311F = _0x1311F[_$_1e54[66]](_0x12357, _$_1e54[32]);
        _0x13B75 -= _0x12357[_$_1e54[91]](_0x16D9B)[0][_$_1e54[14]];
        var _0x13AB1 = _0x16AED[_$_1e54[91]](_0x16D9B)[1];
        _0x16E5F =
          _$_1e54[416] + _0x13AB1 + _$_1e54[417] + _0x1646B + _$_1e54[162];
      }
      if (_0x12357[_$_1e54[218]](_0x16BB1)) {
        _0x16EC1 = _0x16EC1[_$_1e54[66]](_0x12357, _$_1e54[32]);
        var _0x13AB1 = _0x16AED[_$_1e54[91]](_0x16BB1)[1];
        _0x16B4F =
          _$_1e54[418] + _0x13AB1 + _$_1e54[417] + _0x1646B + _$_1e54[162];
      }
      _0x1189F =
        _0x1189F[_$_1e54[89]](0, _0x13BD7) +
        _0x16E5F +
        _0x1311F +
        _0x16B4F +
        _0x16EC1;
    }
  }
  $(_$_1e54[56])[_$_1e54[27]](_0x1189F);
  doLog();
  src_change(function () {
    $(_$_1e54[410] + _0x13BD7 + _$_1e54[41])
      [_$_1e54[3]](_$_1e54[258], _$_1e54[259])
      [_$_1e54[100]](_$_1e54[260], _$_1e54[260]);
    if (_0x1398B != 0) {
      _0x1398B = _0x1398B + _0x13B75;
      $(_$_1e54[410] + _0x1398B + _$_1e54[41])
        [_$_1e54[3]](_$_1e54[258], _$_1e54[259])
        [_$_1e54[100]](_$_1e54[260], _$_1e54[260]);
    }
  });
}
function clearLyricBgColor() {
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  var _0x13BD7 = 0;
  var _0x1398B = 0;
  var _0x13B75 = 0;
  var _0x13B13 = $(_$_1e54[419]);
  var _0x12357 = /\[[se]\.lb\.([0-9]{1,})\..[^\[]*\]/;
  if (_0x13B13[_$_1e54[14]] > 0) {
    _0x13BD7 = $(_0x13B13)[_$_1e54[100]](_$_1e54[415]);
    var _0x13245 = syms[_0x13BD7];
    var _0x139ED = _0x1189F[_$_1e54[89]](
      _0x13245[_$_1e54[158]],
      _0x13245[_$_1e54[160]]
    );
    if (_0x12357[_$_1e54[218]](_0x139ED)) {
      var _0x13AB1 = _0x12357[_$_1e54[91]](_0x139ED)[1];
      var _0x13A4F = new RegExp(
        _$_1e54[420] + _0x13AB1 + _$_1e54[421],
        _$_1e54[148]
      );
      _0x1189F = _0x1189F[_$_1e54[66]](_0x13A4F, _$_1e54[32]);
    }
  }
  $(_$_1e54[56])[_$_1e54[27]](_0x1189F);
  doLog();
  src_change(function () {
    $(_$_1e54[410] + _0x13BD7 + _$_1e54[41])
      [_$_1e54[3]](_$_1e54[258], _$_1e54[259])
      [_$_1e54[100]](_$_1e54[260], _$_1e54[260]);
    if (_0x1398B != 0) {
      _0x1398B = _0x1398B + _0x13B75;
      $(_$_1e54[410] + _0x1398B + _$_1e54[41])
        [_$_1e54[3]](_$_1e54[258], _$_1e54[259])
        [_$_1e54[100]](_$_1e54[260], _$_1e54[260]);
    }
  });
}
function setSingleLyricColor() {
  var _0x1646B = $(_$_1e54[422])[_$_1e54[27]]();
  if (_0x1646B[_$_1e54[93]](_$_1e54[239]) < 0) {
    _0x1646B = _$_1e54[239] + _0x1646B;
  }
  _0x1646B = colorRGB(_0x1646B);
  var _0x13B13 = $(_$_1e54[413]);
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  if (_0x13B13[_$_1e54[14]] > 0) {
    var _0x13C39 = _$_1e54[32];
    var _0x1305B = 0;
    for (var _0x11901 = 0; _0x11901 < _0x13B13[_$_1e54[14]]; _0x11901++) {
      var _0x13BD7 = $(_0x13B13[_0x11901])[_$_1e54[100]](_$_1e54[415]);
      var _0x13245 = syms[_0x13BD7];
      if (_0x13245) {
        var _0x139ED = _0x1189F[_$_1e54[89]](
          _0x13245[_$_1e54[158]],
          _0x13245[_$_1e54[160]]
        );
        if (lyricColorReg[_$_1e54[218]](_0x139ED)) {
          _0x139ED = _0x139ED[_$_1e54[66]](lyricColorReg, _$_1e54[32]);
        }
        _0x139ED = _$_1e54[161] + _0x1646B + _$_1e54[162] + _0x139ED;
        _0x13C39 +=
          _0x1189F[_$_1e54[89]](_0x1305B, _0x13245[_$_1e54[158]]) + _0x139ED;
        _0x1305B = _0x13245[_$_1e54[160]];
      }
    }
    if (_0x13C39 != _$_1e54[32]) {
      _0x13C39 += _0x1189F[_$_1e54[89]](_0x1305B);
      $(_$_1e54[56])[_$_1e54[27]](_0x13C39);
      doLog();
      src_change(function () {
        for (var _0x11901 = 0; _0x11901 < _0x13B13[_$_1e54[14]]; _0x11901++) {
          var _0x13BD7 = $(_0x13B13[_0x11901])[_$_1e54[100]](_$_1e54[415]);
          $(_$_1e54[410] + _0x13BD7 + _$_1e54[41])
            [_$_1e54[3]](_$_1e54[258], _0x1646B)
            [_$_1e54[100]](_$_1e54[260], _$_1e54[260]);
        }
      });
    }
  }
}
function clearSingleLyricColor() {
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  var _0x13B13 = $(_$_1e54[419]);
  var _0x12357 = /\[[se]\.lb\.([0-9]{1,})\..[^\[]*\]/;
  if (_0x13B13[_$_1e54[14]] > 0) {
    var _0x13C39 = _$_1e54[32];
    var _0x1305B = 0;
    for (var _0x11901 = 0; _0x11901 < _0x13B13[_$_1e54[14]]; _0x11901++) {
      var _0x13BD7 = $(_0x13B13[_0x11901])[_$_1e54[100]](_$_1e54[415]);
      var _0x13245 = syms[_0x13BD7];
      if (_0x13245) {
        var _0x139ED = _0x1189F[_$_1e54[89]](
          _0x13245[_$_1e54[158]],
          _0x13245[_$_1e54[160]]
        );
        if (lyricColorReg[_$_1e54[218]](_0x139ED)) {
          _0x139ED = _0x139ED[_$_1e54[66]](lyricColorReg, _$_1e54[32]);
        }
        _0x13C39 +=
          _0x1189F[_$_1e54[89]](_0x1305B, _0x13245[_$_1e54[158]]) + _0x139ED;
        _0x1305B = _0x13245[_$_1e54[160]];
      }
    }
    if (_0x13C39 != _$_1e54[32]) {
      _0x13C39 += _0x1189F[_$_1e54[89]](_0x1305B);
      $(_$_1e54[56])[_$_1e54[27]](_0x13C39);
      doLog();
      src_change(function () {});
    }
  }
}
function delVoice() {
  var _0x13E85 = $(_$_1e54[423]);
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  if (_0x13E85[_$_1e54[14]] > 0) {
    var _0x12605 = $(_0x13E85[0])[_$_1e54[100]](_$_1e54[151]);
    var _0x13E23 = _0x12605[_$_1e54[66]](_$_1e54[152], _$_1e54[32])[
      _$_1e54[66]
    ](_$_1e54[153], _$_1e54[32]);
    var _0x13EE7 = parseInt(_0x13E23[_$_1e54[52]](_$_1e54[154])[0]);
    var _0x11A89 = getLinesInfo(_0x1189F);
    var _0x13C39 = _$_1e54[32];
    for (var _0x11901 = 0; _0x11901 < _0x11A89[_$_1e54[14]]; _0x11901++) {
      var _0x11A27 = _0x11A89[_0x11901];
      var _0x11AEB = _0x11A27[_$_1e54[81]];
      if (_0x11A27[_$_1e54[78]] == _0x13EE7) {
        continue;
      } else {
        if (
          _0x11A27[_$_1e54[79]] == _$_1e54[78] &&
          _0x11A27[_$_1e54[131]] == _0x13EE7
        ) {
          continue;
        } else {
          if (_0x11A27[_$_1e54[79]] == _$_1e54[424]) {
            var _0x12357 = new RegExp(parseInt(_0x13EE7) + 1 + _$_1e54[425]);
            _0x11AEB = _0x11AEB[_$_1e54[66]](_0x12357, _$_1e54[32]);
          }
        }
      }
      _0x13C39 += _0x11AEB + _$_1e54[67];
    }
    $(_$_1e54[56])[_$_1e54[27]](_0x13C39);
    doLog();
    src_change();
  }
}
function changeNodeLineType(_0x1272B) {
  var _0x12FF9 = $(_$_1e54[426])[_$_1e54[100]](_$_1e54[158]);
  var _0x13245 = syms[_0x12FF9];
  if (_0x13245) {
    var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
    if (_0x13245[_$_1e54[427]]) {
      _0x1189F =
        _0x1189F[_$_1e54[89]](0, _0x13245[_$_1e54[158]] - 1) +
        $(_0x1272B)[_$_1e54[27]]() +
        _0x1189F[_$_1e54[89]](_0x13245[_$_1e54[160]]);
    } else {
      _0x1189F =
        _0x1189F[_$_1e54[89]](0, _0x13245[_$_1e54[158]]) +
        $(_0x1272B)[_$_1e54[27]]() +
        _0x1189F[_$_1e54[89]](_0x13245[_$_1e54[160]]);
    }
    $(_$_1e54[56])[_$_1e54[27]](_0x1189F);
    doLog();
    src_change();
  }
}
function changeStaffMargin(_0x138C7, _0x13929) {
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  if (_0x138C7 != _$_1e54[32]) {
    if (_0x1189F[_$_1e54[93]](_$_1e54[428]) > -1) {
      _0x1189F = _0x1189F[_$_1e54[66]](
        /%%leftmargin.*/,
        _$_1e54[429] + _0x138C7
      );
    } else {
      _0x1189F = _$_1e54[429] + _0x138C7 + _$_1e54[67] + _0x1189F;
    }
  }
  if (_0x13929 != _$_1e54[32]) {
    if (_0x1189F[_$_1e54[93]](_$_1e54[430]) > -1) {
      _0x1189F = _0x1189F[_$_1e54[66]](
        /%%rightmargin.*/,
        _$_1e54[431] + _0x13929
      );
    } else {
      _0x1189F = _$_1e54[431] + _0x13929 + _$_1e54[67] + _0x1189F;
    }
  }
  $(_$_1e54[56])[_$_1e54[27]](_0x1189F);
  doLog();
  src_change();
}
function changeStaffBotMargin(_0x13865) {
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  if (_0x13865 != _$_1e54[32]) {
    if (_0x1189F[_$_1e54[93]](_$_1e54[432]) > -1) {
      _0x1189F = _0x1189F[_$_1e54[66]](
        /%%botmargin.*/,
        _$_1e54[433] + _0x13865
      );
    } else {
      _0x1189F = _$_1e54[433] + _0x13865 + _$_1e54[67] + _0x1189F;
    }
  }
  $(_$_1e54[56])[_$_1e54[27]](_0x1189F);
  doLog();
  src_change();
}
function addLineBreak(_0x1189F) {
  if (_0x1189F[_$_1e54[93]](_$_1e54[92]) > -1) {
    return _0x1189F;
  }
  var _0x11A89 = getNodesInfo(_0x1189F);
  var _0x11C11 = _$_1e54[32];
  for (var _0x11901 = 0; _0x11901 < _0x11A89[_$_1e54[14]]; _0x11901++) {
    var _0x12541 = _0x11A89[_0x11901];
    var _0x11AEB = _0x12541[_$_1e54[81]];
    if (_0x12541[_$_1e54[79]] == _$_1e54[80]) {
      var _0x125A3 = _0x12541[_$_1e54[140]];
      var _0x11B4D = _$_1e54[32];
      var _0x124DF = -1;
      for (var _0x11963 = 0; _0x11963 < _0x125A3[_$_1e54[14]]; _0x11963++) {
        var _0x11BAF = _0x125A3[_0x11963];
        _0x11B4D += _0x11BAF[_$_1e54[142]];
        _0x124DF = _0x11BAF[_$_1e54[143]];
      }
      _0x11C11 +=
        _0x11B4D +
        _$_1e54[90] +
        _0x1189F[_$_1e54[89]](_0x124DF, _0x12541[_$_1e54[143]]);
    } else {
      _0x11C11 += _0x12541[_$_1e54[81]] + _$_1e54[67];
    }
  }
  _0x11C11 = _$_1e54[94] + _0x11C11;
  _0x11C11 = replaceBlankLine(_0x11C11);
  return _0x11C11;
}
function switchSplNoteCenter(_0x135B7) {
  var _0x117DB = $(_$_1e54[138])[_$_1e54[100]](_$_1e54[137]);
  if (!_0x117DB) {
    return;
  }
  _0x117DB = parseInt(_0x117DB);
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  _0x1189F = _0x1189F[_$_1e54[66]](/%%barsperstaff.*\n/, _$_1e54[32]);
  var _0x11A89 = getNodesInfo(_0x1189F);
  var _0x11C11 = _$_1e54[32];
  for (
    var _0x11901 = 0, _0x119C5 = _0x11A89[_$_1e54[14]];
    _0x11901 < _0x119C5;
    _0x11901++
  ) {
    var _0x11A27 = _0x11A89[_0x11901];
    var _0x11AEB = _0x11A27[_$_1e54[81]];
    var _0x11B4D = _$_1e54[32];
    if (_0x11A27[_$_1e54[79]] == _$_1e54[80]) {
      for (
        var _0x11963 = 0;
        _0x11963 < _0x11A27[_$_1e54[140]][_$_1e54[14]];
        _0x11963++
      ) {
        var _0x11BAF = _0x11A27[_$_1e54[140]][_0x11963];
        if (_0x11BAF[_$_1e54[141]] == _0x117DB) {
          _0x11B4D +=
            _$_1e54[434] +
            _0x135B7 +
            _$_1e54[162] +
            _0x11BAF[_$_1e54[142]]
              [_$_1e54[66]](_$_1e54[436], _$_1e54[32])
              [_$_1e54[66]](_$_1e54[435], _$_1e54[32]);
        } else {
          _0x11B4D += _0x11BAF[_$_1e54[142]];
        }
        lastNodeEndSeq = _0x11BAF[_$_1e54[143]];
      }
      _0x11B4D += _0x1189F[_$_1e54[89]](lastNodeEndSeq, _0x11A27[_$_1e54[143]]);
      _0x11C11 += _0x11B4D + _$_1e54[67];
    } else {
      _0x11C11 += _0x11A27[_$_1e54[81]] + _$_1e54[67];
    }
  }
  _0x11C11 = replaceBlankLine(_0x11C11);
  $(_$_1e54[56])[_$_1e54[27]](_0x11C11);
  doLog();
  src_change();
}
function splitVoice() {
  var _0x117DB = $(_$_1e54[138])[_$_1e54[100]](_$_1e54[137]);
  if (!_0x117DB) {
    return;
  }
  _0x117DB = parseInt(_0x117DB);
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  _0x1189F = _0x1189F[_$_1e54[66]](/%%barsperstaff.*\n/, _$_1e54[32]);
  var _0x11A89 = getNodesInfo(_0x1189F);
  var _0x11C11 = _$_1e54[32];
  var _0x11C73 = getSelectedBarInfo(_0x117DB, 0);
  console[_$_1e54[170]](_0x11C73);
  var _0x17E73 = _0x11C73[_$_1e54[142]];
  if (_0x17E73[_$_1e54[93]](_$_1e54[437]) > -1) {
  }
}
function showInstruSelector(_0x17C27) {
  setTimeout(function () {
    $(_$_1e54[438])[_$_1e54[245]]();
  }, 100);
  _0x17C27[_$_1e54[382]]();
  return false;
}
function setVoiceInstrument(_0x15147, _0x1526D) {
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  var _0x176CB = new RegExp(_$_1e54[439] + _0x15147 + _$_1e54[440]);
  var _0x17A9F = new RegExp(_$_1e54[439] + _0x15147 + _$_1e54[441]);
  var _0x11BAF = _0x176CB[_$_1e54[91]](_0x1189F);
  var _0x17917 = _0x17A9F[_$_1e54[91]](_0x1189F);
  if (_0x11BAF) {
    var _0x13FAB = _0x11BAF[0];
    var _0x179DB = _0x11BAF[1][_$_1e54[66]](/\s/g, _$_1e54[32]);
    var _0x17853 = _0x17917[0] + _$_1e54[97] + _0x1526D;
    _0x1189F = _0x1189F[_$_1e54[66]](_0x13FAB, _0x17853);
    $(_$_1e54[56])[_$_1e54[27]](_0x1189F);
    doLog();
    src_change();
  } else {
    var _0x17B01 = new RegExp(_$_1e54[439] + _0x15147 + _$_1e54[394]);
    var _0x17979 = _0x17B01[_$_1e54[91]](_0x1189F);
    if (_0x17979) {
      var _0x17A3D = _0x17979[0];
      var _0x178B5 = _0x17A3D + _$_1e54[115] + _0x1526D;
      _0x1189F = _0x1189F[_$_1e54[66]](_0x17A3D, _0x178B5);
      $(_$_1e54[56])[_$_1e54[27]](_0x1189F);
      doLog();
      src_change();
    }
  }
}
function splitNode(_0x17C27) {
  var _0x177F1 = $(_$_1e54[442]);
  if (_0x177F1[_$_1e54[14]] > 0) {
    var _0x17DAF = _$_1e54[55];
    var _0x17CEB = null;
    for (var _0x12FF9 in syms) {
      var _0x13245 = syms[_0x12FF9];
      if (_0x13245[_$_1e54[79]] == 8 || _0x13245[_$_1e54[79]] == 10) {
        var _0x17D4D = _0x13245[_$_1e54[443]] / _0x13245[_$_1e54[225]];
        _0x17DAF += _0x17D4D;
        break;
      }
    }
    var _0x12605 = $(_0x177F1)[_$_1e54[100]](_$_1e54[151]);
    var _0x14F5D = _0x12605[_$_1e54[66]](_$_1e54[153], _$_1e54[32])[
      _$_1e54[66]
    ](_$_1e54[152], _$_1e54[32]);
    var _0x1778F, _0x15147;
    if (_0x14F5D[_$_1e54[93]](_$_1e54[154]) > -1) {
      _0x1778F = parseInt(_0x14F5D[_$_1e54[52]](_$_1e54[154])[1]);
      _0x15147 = parseInt(_0x14F5D[_$_1e54[52]](_$_1e54[154])[0]);
    } else {
      _0x1778F = parseInt(_0x14F5D);
      _0x15147 = -1;
    }
    var _0x11C73 = getSelectedBarInfo(_0x1778F, _0x15147);
    console[_$_1e54[170]](_0x11C73);
    var _0x17E11 = _0x11C73[_$_1e54[142]][_$_1e54[66]](
      _0x11C73[_$_1e54[444]],
      _$_1e54[32]
    );
    var _0x13C39 =
      _$_1e54[437] +
      _0x17E11 +
      _$_1e54[445] +
      _0x17DAF +
      _$_1e54[446] +
      _0x11C73[_$_1e54[444]];
    var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
    _0x1189F =
      _0x1189F[_$_1e54[89]](0, _0x11C73[_$_1e54[241]]) +
      _0x13C39 +
      _0x1189F[_$_1e54[89]](_0x11C73[_$_1e54[143]]);
    $(_$_1e54[56])[_$_1e54[27]](_0x1189F);
    doLog();
    src_change();
  }
}
function changeFermatatime(_0x123B9) {
  var _0x132A7 = $(_$_1e54[447]);
  if (_0x132A7[_$_1e54[14]] > 0) {
    var _0x12FF9 = $(_0x132A7)[_$_1e54[100]](_$_1e54[158]);
    var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
    var _0x13245 = syms[_0x12FF9];
    var _0x131E3 = _0x13245[_$_1e54[448]];
    var _0x13181 = _0x1189F[_$_1e54[89]](0, _0x13245[_$_1e54[158]]);
    var _0x13309 = _0x1189F[_$_1e54[89]](_0x13245[_$_1e54[158]]);
    var _0x1278D = getGch(_0x13245, _$_1e54[449]);
    if (_0x13245[_$_1e54[450]]) {
      var _0x12357 = /\"fermatatime:[^\"]*\"/g;
      var _0x11BAF;
      var _0x1305B = -1;
      var _0x130BD = _$_1e54[32];
      while ((_0x11BAF = _0x12357[_$_1e54[91]](_0x13181))) {
        _0x1305B = _0x11BAF[_$_1e54[88]];
        _0x130BD = _0x11BAF[0];
      }
      var _0x12F97 = _$_1e54[451] + _0x123B9 + _$_1e54[113];
      _0x1189F =
        _0x1189F[_$_1e54[89]](0, _0x1305B) +
        _0x1189F[_$_1e54[89]](_0x1305B)[_$_1e54[66]](_0x130BD, _0x12F97);
      _0x13245[_$_1e54[158]] += _0x12F97[_$_1e54[14]] - _0x130BD[_$_1e54[14]];
    } else {
      var _0x1311F = _$_1e54[451] + _0x123B9 + _$_1e54[113];
      _0x1189F =
        _0x1189F[_$_1e54[89]](0, _0x13245[_$_1e54[158]]) +
        _0x1311F +
        _0x1189F[_$_1e54[89]](_0x13245[_$_1e54[158]]);
      _0x13245[_$_1e54[158]] += _0x1311F[_$_1e54[14]];
    }
    _0x13245[_$_1e54[450]] = _0x123B9;
    $(_$_1e54[56])[_$_1e54[27]](_0x1189F);
    doLog();
    src_change(function () {
      $(_$_1e54[452] + _0x13245[_$_1e54[158]] + _$_1e54[41])
        [_$_1e54[100]](_$_1e54[260], _$_1e54[260])
        [_$_1e54[340]](_$_1e54[380]);
    });
  }
}
function setStaffNameHandle() {
  var _0x177F1 = $(_$_1e54[442]);
  if (_0x177F1[_$_1e54[14]] > 0) {
    var _0x12605 = $(_0x177F1)[_$_1e54[100]](_$_1e54[151]);
    var _0x14F5D = _0x12605[_$_1e54[66]](_$_1e54[153], _$_1e54[32])[
      _$_1e54[66]
    ](_$_1e54[152], _$_1e54[32]);
    var _0x1778F, _0x15147;
    if (_0x14F5D[_$_1e54[93]](_$_1e54[154]) > -1) {
      _0x1778F = parseInt(_0x14F5D[_$_1e54[52]](_$_1e54[154])[1]);
      _0x15147 = parseInt(_0x14F5D[_$_1e54[52]](_$_1e54[154])[0]);
    } else {
      _0x1778F = parseInt(_0x14F5D);
      _0x15147 = -1;
    }
    setStaffName(parseInt(_0x15147) + 1, _$_1e54[453], _$_1e54[454]);
  }
}
function setStaffName(_0x15147, _0x14DD5, _0x14E37) {
  var _0x176CB = new RegExp(_$_1e54[455] + _0x15147 + _$_1e54[394]);
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  var _0x11BAF = _0x176CB[_$_1e54[91]](_0x1189F);
  console[_$_1e54[170]](_0x11BAF);
  if (_0x11BAF != null) {
    var _0x1772D = _0x11BAF[0];
    var _0x174E1 = new RegExp(_$_1e54[456]);
    var _0x17607 = new RegExp(_$_1e54[457]);
    var _0x1747F = _0x174E1[_$_1e54[91]](_0x1772D);
    if (_0x1747F != null) {
      var _0x17543 = _$_1e54[458] + _0x1747F[1] + _$_1e54[113];
      _0x1772D = _0x1772D[_$_1e54[66]](
        _0x17543,
        _$_1e54[458] + _0x14DD5 + _$_1e54[113]
      );
    } else {
      _0x1772D += _$_1e54[112] + _0x14DD5 + _$_1e54[113];
    }
    var _0x175A5 = _0x17607[_$_1e54[91]](_0x1772D);
    if (_0x175A5 != null) {
      var _0x17669 = _$_1e54[459] + _0x175A5[1] + _$_1e54[113];
      _0x1772D = _0x1772D[_$_1e54[66]](
        _0x17669,
        _$_1e54[459] + _0x14E37 + _$_1e54[113]
      );
    } else {
      _0x1772D += _$_1e54[114] + _0x14E37 + _$_1e54[113];
    }
    console[_$_1e54[170]](_0x1772D);
    _0x1189F = _0x1189F[_$_1e54[66]](_0x176CB, _0x1772D);
    $(_$_1e54[56])[_$_1e54[27]](_0x1189F);
    doLog();
    src_change();
  } else {
    var _0x1772D =
      _$_1e54[68] +
      _0x15147 +
      _$_1e54[112] +
      _0x14DD5 +
      _$_1e54[460] +
      _0x14E37 +
      _$_1e54[113];
    var _0x11A89 = getLinesInfo(_0x1189F);
    var _0x11C11 = _$_1e54[32];
    var _0x12C25 = 0;
    for (var _0x11901 = 0; _0x11901 < _0x11A89[_$_1e54[14]]; _0x11901++) {
      var _0x12541 = _0x11A89[_0x11901];
      if (_0x12541[_$_1e54[79]] == _$_1e54[80]) {
        if (_0x12C25 == 0) {
          _0x11C11 += _0x1772D + _$_1e54[67];
        }
        _0x12C25++;
      }
      _0x11C11 += _0x12541 + _$_1e54[67];
    }
    $(_$_1e54[56])[_$_1e54[27]](_0x11C11);
    doLog();
    src_change();
  }
}
function setNoteJpText() {
  var _0x171D1 = $(_$_1e54[156]);
  if (_0x171D1[_$_1e54[14]] == 0) {
    return;
  }
  var _0x1278D = $(_$_1e54[461])[_$_1e54[27]]();
  if (_0x1278D == _$_1e54[32]) {
    var _0x12FF9 = $(_0x171D1)[_$_1e54[100]](_$_1e54[158]);
    var _0x13245 = syms[_0x12FF9];
    var _0x1710D = getGch(_0x13245, _$_1e54[462]);
    if (_0x1710D != _$_1e54[32]) {
      var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
      _0x1189F =
        replaceLast(
          _0x1189F[_$_1e54[89]](0, _0x12FF9),
          _$_1e54[113] + _0x1710D + _$_1e54[113],
          _$_1e54[32]
        ) + _0x1189F[_$_1e54[89]](_0x12FF9);
      $(_$_1e54[56])[_$_1e54[27]](_0x1189F);
      doLog();
      src_change();
      showProperties(_$_1e54[463]);
    }
    return;
  }
  var _0x17049 = _$_1e54[464] + _0x1278D;
  var _0x12FF9 = $(_0x171D1)[_$_1e54[100]](_$_1e54[158]);
  var _0x13245 = syms[_0x12FF9];
  var _0x1710D = getGch(_0x13245, _$_1e54[462]);
  if (!_0x1710D) {
    _0x1710D = _$_1e54[32];
  }
  var _0x1716F = _0x1710D[_$_1e54[66]](_$_1e54[462], _$_1e54[32]);
  var _0x170AB = _$_1e54[32];
  if (_0x1716F[_$_1e54[52]](_$_1e54[465])[_$_1e54[14]] > 1) {
    _0x170AB = _0x1716F[_$_1e54[52]](_$_1e54[465])[1];
  }
  if (_0x170AB != _$_1e54[32]) {
    _0x17049 += _$_1e54[465] + _0x170AB;
  }
  _0x17049 += _$_1e54[113];
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  _0x1189F =
    replaceLast(
      _0x1189F[_$_1e54[89]](0, _0x12FF9),
      _$_1e54[113] + _0x1710D + _$_1e54[113],
      _$_1e54[32]
    ) +
    _0x17049 +
    _0x1189F[_$_1e54[89]](_0x12FF9);
  $(_$_1e54[56])[_$_1e54[27]](_0x1189F);
  doLog();
  src_change();
  showProperties(_$_1e54[463]);
}
function setNoteJpTextMidi() {
  var _0x171D1 = $(_$_1e54[156]);
  if (_0x171D1[_$_1e54[14]] == 0) {
    return;
  }
  var _0x17295 = $(_$_1e54[461])[_$_1e54[27]]();
  if (_0x17295 == _$_1e54[32]) {
    alert(_$_1e54[466]);
    return;
  }
  var _0x172F7 = $(_$_1e54[467])[_$_1e54[27]]();
  if (_0x172F7 == _$_1e54[32]) {
    var _0x12FF9 = $(_0x171D1)[_$_1e54[100]](_$_1e54[158]);
    var _0x13245 = syms[_0x12FF9];
    var _0x1710D = getGch(_0x13245, _$_1e54[462]);
    if (_0x1710D != _$_1e54[32]) {
      var _0x17359 = _0x1710D[_$_1e54[52]](_$_1e54[465]);
      var _0x17233 =
        _$_1e54[113] + _0x17359[0] + _$_1e54[465] + _0x17359[1] + _$_1e54[113];
      var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
      _0x1189F =
        replaceLast(
          _0x1189F[_$_1e54[89]](0, _0x12FF9),
          _$_1e54[113] + _0x1710D + _$_1e54[113],
          _0x17233
        ) + _0x1189F[_$_1e54[89]](_0x12FF9);
      $(_$_1e54[56])[_$_1e54[27]](_0x1189F);
      doLog();
      src_change();
      showProperties(_$_1e54[463]);
    }
    return;
  }
  var _0x17233 =
    _$_1e54[464] + _0x17295 + _$_1e54[465] + _0x172F7 + _$_1e54[113];
  var _0x12FF9 = $(_0x171D1)[_$_1e54[100]](_$_1e54[158]);
  var _0x13245 = syms[_0x12FF9];
  var _0x1710D = getGch(_0x13245, _$_1e54[462]);
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  _0x1189F =
    replaceLast(
      _0x1189F[_$_1e54[89]](0, _0x12FF9),
      _$_1e54[113] + _0x1710D + _$_1e54[113],
      _0x17233
    ) + _0x1189F[_$_1e54[89]](_0x12FF9);
  $(_$_1e54[56])[_$_1e54[27]](_0x1189F);
  doLog();
  src_change();
  showProperties(_$_1e54[463]);
}
function setDacsFontSize() {
  var _0x16903 = $(_$_1e54[468])[_$_1e54[27]]();
  var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
  if (_0x16903 != _$_1e54[32]) {
    var _0x16965 = /dacsfontsize.*/;
    var _0x13F49 = _0x1189F[_$_1e54[65]](_0x16965);
    if (_0x13F49 != null) {
      var _0x169C7 = _0x13F49[0];
      _0x1189F = _0x1189F[_$_1e54[66]](
        _0x169C7,
        _0x169C7[_$_1e54[66]](/[0-9]\d*/, _0x16903)
      );
    } else {
      _0x1189F = _$_1e54[469] + _0x16903 + _$_1e54[67] + _0x1189F;
    }
  }
  $(_$_1e54[56])[_$_1e54[27]](_0x1189F);
  src_change();
}
function setBarWidth() {
  var _0x13E85 = $(_$_1e54[150]);
  if (_0x13E85[_$_1e54[14]] > 0) {
    var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
    var _0x117DB = $(_0x13E85[0])[_$_1e54[100]](_$_1e54[137]);
    if (!_0x117DB) {
      _0x117DB = $(_0x13E85[0])[_$_1e54[100]](_$_1e54[470]);
      if (!_0x117DB) {
        return;
      }
    }
    var _0x1677B = $(_$_1e54[471])[_$_1e54[27]]();
    if (_0x1677B == _$_1e54[472]) {
      _0x1677B = _$_1e54[32];
    }
    var _0x167DD = _$_1e54[32];
    if (_0x1677B != _$_1e54[32]) {
      _0x167DD = _$_1e54[473] + _0x1677B + _$_1e54[113];
    } else {
      _0x167DD = _$_1e54[32];
    }
    var _0x11C11 = _$_1e54[32];
    var _0x11A89 = getNodesInfo(_0x1189F);
    for (
      var _0x11901 = 0, _0x119C5 = _0x11A89[_$_1e54[14]];
      _0x11901 < _0x119C5;
      _0x11901++
    ) {
      var _0x11A27 = _0x11A89[_0x11901];
      var _0x11AEB = _0x11A27[_$_1e54[81]];
      var _0x11B4D = _$_1e54[32];
      if (_0x11A27[_$_1e54[79]] == _$_1e54[80]) {
        for (
          var _0x11963 = 0;
          _0x11963 < _0x11A27[_$_1e54[140]][_$_1e54[14]];
          _0x11963++
        ) {
          var _0x11BAF = _0x11A27[_$_1e54[140]][_0x11963];
          if (_0x11BAF[_$_1e54[141]] == _0x117DB) {
            var _0x165F3 = _0x11BAF[_$_1e54[142]][_$_1e54[66]](
              /\"barwidth:.[^\"]*\"/,
              _$_1e54[32]
            );
            _0x165F3 =
              replaceLast(_0x165F3, _0x11BAF[_$_1e54[444]], _$_1e54[32]) +
              _0x167DD +
              _0x11BAF[_$_1e54[444]];
            _0x11B4D += _0x165F3;
          } else {
            _0x11B4D += _0x11BAF[_$_1e54[142]];
          }
          lastNodeEndSeq = _0x11BAF[_$_1e54[143]];
        }
        _0x11B4D += _0x1189F[_$_1e54[89]](
          lastNodeEndSeq,
          _0x11A27[_$_1e54[143]]
        );
        _0x11C11 += _0x11B4D + _$_1e54[67];
      } else {
        _0x11C11 += _0x11A27[_$_1e54[81]] + _$_1e54[67];
      }
    }
    _0x11C11 = _0x11C11[_$_1e54[66]](/\%\%equalbars.*/, _$_1e54[32]);
    _0x11C11 = _$_1e54[474] + _0x11C11;
    _0x11C11 = replaceBlankLine(_0x11C11);
    $(_$_1e54[56])[_$_1e54[27]](_0x11C11);
    doLog();
    src_change(function () {
      var _0x16719 = new Array();
      var _0x15CC3 = new Object();
      _0x15CC3[_$_1e54[475]] = _0x117DB;
      _0x15CC3[_$_1e54[258]] = _$_1e54[259];
      _0x15CC3[_$_1e54[476]] = _$_1e54[259];
      _0x15CC3[_$_1e54[78]] = 0;
      _0x16719[_$_1e54[77]](_0x15CC3);
      renderStaffNodeBySt(_0x16719, _$_1e54[477]);
    });
    return;
  }
}
function setBarWidth2() {
  var _0x168A1 = $(_$_1e54[478])[_$_1e54[27]]();
  var _0x1677B = $(_$_1e54[471])[_$_1e54[100]](_$_1e54[479]);
  var _0x1683F = parseInt(parseInt(_0x1677B) * parseFloat(_0x168A1));
  $(_$_1e54[471])[_$_1e54[27]](_0x1683F);
  setBarWidth();
}
function setBarHeight(_0x16655) {
  var _0x13E85 = $(_$_1e54[150]);
  if (_0x13E85[_$_1e54[14]] > 0) {
    var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
    var _0x117DB = $(_0x13E85[0])[_$_1e54[100]](_$_1e54[137]);
    if (!_0x117DB) {
      _0x117DB = $(_0x13E85[0])[_$_1e54[100]](_$_1e54[470]);
      if (!_0x117DB) {
        return;
      }
    }
    var _0x1652F = _$_1e54[32];
    if (_0x16655 == _$_1e54[47]) {
      _0x1652F = $(_$_1e54[480])[_$_1e54[27]]();
    } else {
      if (_0x16655 == _$_1e54[49]) {
        _0x1652F = $(_$_1e54[481])[_$_1e54[27]]();
      }
    }
    if (_0x1652F == _$_1e54[472]) {
      _0x1652F = _$_1e54[32];
    }
    var _0x16591 = _$_1e54[32];
    if (_0x1652F != _$_1e54[32]) {
      _0x16591 = _$_1e54[482] + _0x1652F + _$_1e54[162];
    } else {
      _0x16591 = _$_1e54[32];
    }
    var _0x11C11 = _$_1e54[32];
    var _0x11A89 = getNodesInfo(_0x1189F);
    for (
      var _0x11901 = 0, _0x119C5 = _0x11A89[_$_1e54[14]];
      _0x11901 < _0x119C5;
      _0x11901++
    ) {
      var _0x11A27 = _0x11A89[_0x11901];
      var _0x11AEB = _0x11A27[_$_1e54[81]];
      var _0x11B4D = _$_1e54[32];
      if (_0x11A27[_$_1e54[79]] == _$_1e54[80]) {
        for (
          var _0x11963 = 0;
          _0x11963 < _0x11A27[_$_1e54[140]][_$_1e54[14]];
          _0x11963++
        ) {
          var _0x11BAF = _0x11A27[_$_1e54[140]][_0x11963];
          if (_0x11BAF[_$_1e54[141]] == _0x117DB) {
            var _0x166B7 = _0x11BAF[_$_1e54[142]][_$_1e54[93]](_$_1e54[483]);
            var _0x165F3 = _0x11BAF[_$_1e54[142]];
            if (_0x16655 == _$_1e54[47]) {
              if (_0x166B7 < 2) {
                _0x165F3 = _0x11BAF[_$_1e54[142]][_$_1e54[66]](
                  /\[I:vskip.[^\[]*\]/,
                  _$_1e54[32]
                );
              }
              if (_0x165F3[_$_1e54[93]](_$_1e54[90]) > -1) {
                var _0x164CD = _0x165F3[_$_1e54[93]](_$_1e54[90]);
                _0x165F3 =
                  _0x165F3[_$_1e54[89]](0, _0x164CD + 1) +
                  _0x16591 +
                  _0x165F3[_$_1e54[89]](_0x164CD + 1);
              } else {
                _0x165F3 = _0x16591 + _0x165F3;
              }
            } else {
              if (_0x16655 == _$_1e54[49]) {
                _0x165F3 = _0x11BAF[_$_1e54[142]][_$_1e54[66]](
                  /\[I:vskip.[^\[]*\]\|/,
                  _$_1e54[32]
                );
                _0x165F3 =
                  replaceLast(_0x165F3, _0x11BAF[_$_1e54[444]], _$_1e54[32]) +
                  _0x16591 +
                  _0x11BAF[_$_1e54[444]];
              }
            }
            _0x11B4D += _0x165F3;
          } else {
            _0x11B4D += _0x11BAF[_$_1e54[142]];
          }
          lastNodeEndSeq = _0x11BAF[_$_1e54[143]];
        }
        _0x11B4D += _0x1189F[_$_1e54[89]](
          lastNodeEndSeq,
          _0x11A27[_$_1e54[143]]
        );
        _0x11C11 += _0x11B4D + _$_1e54[67];
      } else {
        _0x11C11 += _0x11A27[_$_1e54[81]] + _$_1e54[67];
      }
    }
    _0x11C11 = replaceBlankLine(_0x11C11);
    $(_$_1e54[56])[_$_1e54[27]](_0x11C11);
    doLog();
    src_change(function () {
      var _0x16719 = new Array();
      var _0x15CC3 = new Object();
      _0x15CC3[_$_1e54[475]] = _0x117DB;
      _0x15CC3[_$_1e54[258]] = _$_1e54[259];
      _0x15CC3[_$_1e54[476]] = _$_1e54[259];
      _0x15CC3[_$_1e54[78]] = 0;
      _0x16719[_$_1e54[77]](_0x15CC3);
      renderStaffNodeBySt(_0x16719, _$_1e54[477]);
    });
    return;
  }
}
function moveNote(_0x1621F) {
  var _0x163A7 = $(_$_1e54[180]);
  if (_0x163A7[_$_1e54[14]] > 0) {
    var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
    var _0x12FF9 = parseInt($(_$_1e54[180])[_$_1e54[100]](_$_1e54[158]));
    var _0x13245 = syms[_0x12FF9];
    update_note_index = 0;
    update_note_istart = _0x12FF9;
    var _0x16345 = _0x1189F[_$_1e54[89]](0, _0x13245[_$_1e54[158]]);
    var _0x16409 = _0x1189F[_$_1e54[89]](_0x13245[_$_1e54[158]]);
    var _0x16281 = 0;
    if (_0x13245 && (_0x13245[_$_1e54[484]] || _0x13245[_$_1e54[484]] == 0)) {
      _0x16345 = replaceLast(_0x16345, /\!.[^\!]*\!/, _$_1e54[32]);
      _0x16281 = 4 + (_0x13245[_$_1e54[484]] + _$_1e54[32])[_$_1e54[14]];
    }
    if (!_0x13245[_$_1e54[484]]) {
      _0x13245[_$_1e54[484]] = 0;
    }
    if (_$_1e54[0] == _0x1621F) {
      _0x13245[_$_1e54[484]]--;
    } else {
      if (_$_1e54[312] == _0x1621F) {
        _0x13245[_$_1e54[484]]++;
      }
    }
    var _0x162E3 = 4 + (_0x13245[_$_1e54[484]] + _$_1e54[32])[_$_1e54[14]];
    update_note_istart = update_note_istart + (_0x162E3 - _0x16281);
    var _0x13C39 =
      _0x16345 +
      _$_1e54[485] +
      _0x13245[_$_1e54[484]] +
      _$_1e54[486] +
      _0x16409;
    $(_$_1e54[56])[_$_1e54[27]](_0x13C39);
    lastFirstNoteSeq = getFirstNoteSeq();
    if (getFirstNoteSeq() == _0x12FF9) {
      lastFirstNoteSeq += _0x162E3 - _0x16281;
    }
    src_change(function () {
      if (_0x13245[_$_1e54[79]] == 0) {
        console[_$_1e54[170]](_$_1e54[487]);
        $(_$_1e54[490] + (_0x12FF9 + _0x162E3 - _0x16281) + _$_1e54[41])
          [_$_1e54[3]](_$_1e54[488], _$_1e54[489])
          [_$_1e54[100]](_$_1e54[260], _$_1e54[260]);
        $(_$_1e54[490] + (_0x12FF9 + _0x162E3 - _0x16281) + _$_1e54[41])[
          _$_1e54[340]
        ](_$_1e54[380]);
      }
    });
    return;
  }
}
function xdtest() {
  var _0x16719 = JSON[_$_1e54[395]](_$_1e54[491]);
  var _0x18CFF = new Array();
  var _0x18D61 = 0;
  var _0x18DC3 = 0;
  for (var _0x11901 = 0; _0x11901 < _0x16719[_$_1e54[14]]; _0x11901++) {
    console[_$_1e54[170]](_0x16719[_0x11901]);
    var _0x11BAF = _0x16719[_0x11901];
    if (_0x18D61 % (192 * 4) == 0) {
      var _0x1272B = new Object();
      _0x1272B[_$_1e54[492]] = _0x18DC3++;
      _0x1272B[_$_1e54[493]] = parseFloat(_0x11BAF[_$_1e54[494]]) - 0.25;
      _0x18CFF[_$_1e54[77]](_0x1272B);
    }
    _0x18D61 += _0x11BAF[_$_1e54[495]];
  }
  return JSON[_$_1e54[396]](_0x18CFF);
}
function dotClick() {
  var _0x140D1 = $(_$_1e54[156]);
  if (_0x140D1[_$_1e54[14]] > 0) {
    var _0x12FF9 = $(_0x140D1)[_$_1e54[100]](_$_1e54[158]);
    cen = syms[_0x12FF9];
    var _0x1189F = $(_$_1e54[56])[_$_1e54[27]]();
    var _0x1406F = _0x1189F[_$_1e54[89]](cen[_$_1e54[158]], cen[_$_1e54[160]]);
    var _0x13F49 = _0x1406F[_$_1e54[65]](/[A-Ga-gz]{1,}/g);
    var _0x13FAB = _$_1e54[32];
    if (_0x13F49 != null) {
      for (var _0x11901 = 0; _0x11901 < _0x13F49[_$_1e54[14]]; _0x11901++) {
        _0x13FAB += _0x13F49[_0x11901];
      }
    }
    if (_0x13FAB[_$_1e54[14]] == 1) {
    } else {
      if (_0x13FAB[_$_1e54[14]] > 1) {
        _0x13FAB = _$_1e54[161] + _0x13FAB + _$_1e54[162];
      }
    }
    var _0x1400D = genNoteAndDur(_0x13FAB, cen, null, null, true);
    _0x1400D[_$_1e54[80]] = _0x13FAB;
    update_note_istart = _0x12FF9;
    update_note_index = 0;
    replaceNote(_$_1e54[75], cen[_$_1e54[158]], cen[_$_1e54[160]], _0x1400D);
  }
}
function switchMicInput() {
  if ($(_$_1e54[496])[_$_1e54[165]](_$_1e54[333])) {
    closeMic();
    $(_$_1e54[56])[_$_1e54[27]](staffTypes[_$_1e54[118]]);
    src_change();
    $(_$_1e54[496])[_$_1e54[337]](_$_1e54[333]);
    var _0x18183 = _$_1e54[497];
    var _0x18121 = $(_$_1e54[239] + _0x18183)[_$_1e54[106]](_$_1e54[498]);
    $(_$_1e54[239] + _0x18183)[_$_1e54[100]](_$_1e54[499], _$_1e54[500]);
    try {
      _0x18121[_$_1e54[502]][_$_1e54[501]](_$_1e54[32]);
      _0x18121[_$_1e54[502]][_$_1e54[503]]();
    } catch (e) {}
  } else {
    $(_$_1e54[56])[_$_1e54[27]](
      staffTypes[_$_1e54[505]][_$_1e54[66]](_$_1e54[504], _$_1e54[32])
    );
    src_change();
    if ($(_$_1e54[338])[_$_1e54[165]](_$_1e54[333])) {
      $(_$_1e54[506])[_$_1e54[330]]();
    }
    $(_$_1e54[496])[_$_1e54[340]](_$_1e54[333]);
    $(_$_1e54[508])[_$_1e54[100]](_$_1e54[499], _$_1e54[507]);
  }
}
function getCurrMicPitch() {
  $(_$_1e54[508])[0][_$_1e54[498]][_$_1e54[509]]();
}
function closeMic() {
  $(_$_1e54[508])[0][_$_1e54[498]][_$_1e54[510]]();
}
function setMicAquireNoteTime() {
  if ($(_$_1e54[496])[_$_1e54[165]](_$_1e54[333])) {
    var _0x15331 = getStaffInfo(_$_1e54[75]);
    if (_0x15331[_$_1e54[199]]) {
      var _0x12DAD =
        _0x15331[_$_1e54[199]][_$_1e54[194]][_$_1e54[47]] +
        _$_1e54[51] +
        _0x15331[_$_1e54[199]][_$_1e54[194]][_$_1e54[49]] +
        _$_1e54[511] +
        _0x15331[_$_1e54[199]][_$_1e54[27]];
      var _0x16F85 = getDurTimeBySpeed(_0x12DAD, durSetting);
      $(_$_1e54[508])[0][_$_1e54[498]][_$_1e54[512]](_0x16F85);
    }
  }
}
function mic2Staff(_0x1615B, _0x16097) {
  noteStr = _0x1615B;
  var _0x15331 = getStaffInfo(_$_1e54[75]);
  var _0x160F9 = _$_1e54[32];
  if (_0x15331[_$_1e54[199]]) {
    var _0x12DAD =
      _0x15331[_$_1e54[199]][_$_1e54[194]][_$_1e54[47]] +
      _$_1e54[51] +
      _0x15331[_$_1e54[199]][_$_1e54[194]][_$_1e54[49]] +
      _$_1e54[511] +
      _0x15331[_$_1e54[199]][_$_1e54[27]];
    var _0x161BD = getDurTimeBySpeed(_0x12DAD, durSetting);
    var _0x16035 = _0x16097 / 1000 / _0x161BD;
    if (_0x16035 >= 0 && _0x16035 <= 4) {
      _0x160F9 = _0x16035[_$_1e54[513]](0);
    } else {
      _0x160F9 = 4;
    }
    if (_0x160F9 == _$_1e54[73] || _0x160F9 == _$_1e54[472]) {
      _0x160F9 = _$_1e54[32];
    }
    if (parseInt(_0x160F9) > 2 && parseInt(_0x160F9) <= 3) {
      _0x160F9 = _$_1e54[514];
    } else {
      if (parseInt(_0x160F9) > 3 && parseInt(_0x160F9) <= 4) {
        _0x160F9 = _$_1e54[515];
      }
    }
  }
  setStandDur(_0x160F9);
  console[_$_1e54[170]](_$_1e54[516], noteStr);
  if (noteStr != _$_1e54[32]) {
    console[_$_1e54[170]](_$_1e54[32], noteStr);
    updateNextNote(noteStr, -1);
  }
}
function setStandDur(_0x16097) {
  $(_$_1e54[517])[_$_1e54[337]](_$_1e54[260]);
  $(_$_1e54[518])[_$_1e54[337]](_$_1e54[260]);
  if (_0x16097 == _$_1e54[32] || _0x16097 == 1) {
    $(_$_1e54[519])[_$_1e54[340]](_$_1e54[260]);
  } else {
    if (_0x16097 == 2) {
      $(_$_1e54[520])[_$_1e54[340]](_$_1e54[260]);
    } else {
      if (_0x16097 == 3) {
        $(_$_1e54[520])[_$_1e54[340]](_$_1e54[260]);
        $(_$_1e54[518])[_$_1e54[340]](_$_1e54[260]);
      } else {
        if (_0x16097 == 4) {
          $(_$_1e54[521])[_$_1e54[340]](_$_1e54[260]);
        }
      }
    }
  }
  console[_$_1e54[170]](_0x16097);
  if ($(_$_1e54[522])[_$_1e54[14]] > 0) {
    durSetting = $(_$_1e54[522])[_$_1e54[100]](_$_1e54[217]);
  }
}
function switchStaffType() {
  var _0x181E5 = $(_$_1e54[523])[_$_1e54[27]]();
  console[_$_1e54[170]](_0x181E5);
  if (_0x181E5 == _$_1e54[32]) {
    $(_$_1e54[524])[_$_1e54[3]](_$_1e54[313], _$_1e54[32]);
    return;
  }
  $(_$_1e54[524])[_$_1e54[117]](function (_0x11901, _0x147B5) {
    if ($(_0x147B5)[_$_1e54[100]](_$_1e54[525]) == _0x181E5) {
      $(_0x147B5)[_$_1e54[3]](_$_1e54[313], _$_1e54[32]);
    } else {
      $(_0x147B5)[_$_1e54[3]](_$_1e54[313], _$_1e54[526]);
    }
  });
}
var sourceFloatMove = false;
var clickX = 0,
  clickY = 0;
function showFloatEditor() {
  if ($(_$_1e54[527])[_$_1e54[165]](_$_1e54[333])) {
    $(_$_1e54[527])[_$_1e54[330]]();
  }
  $(_$_1e54[56])
    [_$_1e54[3]](_$_1e54[349], _$_1e54[350])
    [_$_1e54[3]](_$_1e54[313], _$_1e54[315])
    [_$_1e54[3]](_$_1e54[0], _$_1e54[533])
    [_$_1e54[3]](_$_1e54[47], _$_1e54[532])
    [_$_1e54[531]](300)
    [_$_1e54[3]](_$_1e54[529], _$_1e54[530])
    [_$_1e54[3]](_$_1e54[351], _$_1e54[528]);
  $(_$_1e54[56])[_$_1e54[117]](function () {
    this[_$_1e54[537]][_$_1e54[536]](_$_1e54[1], _$_1e54[534], _$_1e54[535]);
  });
  $(_$_1e54[539])
    [_$_1e54[3]](_$_1e54[313], _$_1e54[315])
    [_$_1e54[3]](_$_1e54[0], _$_1e54[533])
    [_$_1e54[3]](_$_1e54[47], _$_1e54[533])
    [_$_1e54[3]](_$_1e54[531], _$_1e54[532])
    [_$_1e54[1]]($(_$_1e54[56])[_$_1e54[538]]());
  $(_$_1e54[540])[_$_1e54[34]]($(_$_1e54[56]));
  var $textareas = jQuery(_$_1e54[56]);
  $textareas[_$_1e54[541]](_$_1e54[244], $textareas[_$_1e54[538]]());
  $textareas[_$_1e54[541]](_$_1e54[369], $textareas[_$_1e54[542]]());
  $textareas[_$_1e54[389]](function () {
    var $this = jQuery(this);
    if (
      $this[_$_1e54[538]]() != $this[_$_1e54[541]](_$_1e54[244]) ||
      $this[_$_1e54[542]]() != $this[_$_1e54[541]](_$_1e54[369])
    ) {
      $(_$_1e54[539])[_$_1e54[1]]($this[_$_1e54[538]]());
    }
    $this[_$_1e54[541]](_$_1e54[244], $this[_$_1e54[538]]());
    $this[_$_1e54[541]](_$_1e54[369], $this[_$_1e54[542]]());
  });
}
function source_float_mousedown(_0x1216D) {
  clickX = _0x1216D[_$_1e54[368]];
  clickY = _0x1216D[_$_1e54[388]];
  sourceFloatMove = true;
}
function source_float_mouseup() {
  clickX = 0;
  clickY = 0;
  sourceFloatMove = false;
}
function source_float_mousemove(_0x1216D) {
  if (sourceFloatMove) {
    var _0x138C7 = $(_$_1e54[539])[_$_1e54[341]]()[_$_1e54[0]];
    var _0x17C89 = $(_$_1e54[539])[_$_1e54[341]]()[_$_1e54[47]];
    $(_$_1e54[539])[_$_1e54[3]](_$_1e54[0], _0x1216D[_$_1e54[244]] - clickX);
    $(_$_1e54[56])[_$_1e54[3]](_$_1e54[0], _0x1216D[_$_1e54[244]] - clickX);
    $(_$_1e54[539])[_$_1e54[3]](_$_1e54[47], _0x1216D[_$_1e54[369]] - clickY);
    $(_$_1e54[56])[_$_1e54[3]](
      _$_1e54[47],
      _0x1216D[_$_1e54[369]] - clickY + $(_$_1e54[539])[_$_1e54[531]]()
    );
  }
}
function source_float_change() {
  $(_$_1e54[56])[_$_1e54[27]]($(_$_1e54[543])[_$_1e54[27]]());
  abc_change();
}
