<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>rhythm</title>
<link href="./css/edit-1.css?v=1.0.15" rel="stylesheet" type="text/css" />
<script src="./js/jquery.min.js"></script> 
<script src="./js/util.js?v=1.0.15" type="text/javascript"></script>
<script src="./js/piano.js?v=1.0.15" type="text/javascript"></script>
<script src="./js/staff2num-splnum.js?v=1.0.15" type="text/javascript"></script>
<script src="./js/edit-1-splnum.js?v=1.0.15"  type="text/javascript"></script>
<script src="./js/abc2svg-1-splnum.js?v=1.0.15" type="text/javascript"></script>
<script type="text/javascript">
var notes_pattern = /(\[[\^\_\=A-Ya-y\/1-9,']*\])|(\^){0,1}(\_){0,1}(\=){0,1}[^\[\s\]]{1}[\,\'\/|1-9]*/g;
document.oncontextmenu=function(){return false;}; 
//document.onselectstart=function(){return false;};
var pagewidth = 21;
var scale = 1.2;
var isCtrl = false;
var animation = true;
var errorcheck = false;
//实时纠错历史记录（在用户松开按键时记录）
var liveHistoryArr = new Array();
function Grab(){}
function Drag(){}
function Drop(){}
function lightoperator(){}
function playcallback(){}
function endplaycallbck(){}
function getSelectText(){}
$(document).ready(function(){
	
});

function setSourceData(val){
	$("#source").val(val);
	src_change();
}

function myplay(){
	play_tune(-1);
}
function mystop(){
	play_tune(0);
}
</script>
</head>

<body ondragstart="return false;">
<input type="button" value="播放" onclick="myplay()">
<label id="midi_label"></label>
<div style="display: none;">
<ul id="ctxMenu" class="dropdown-menu"></ul>
	<input id="s0" type="button" style="display: inline; background-color: #80ff80" value="(noname)"/>
	<input id="s1" type="button" style="display: none; background-color: #ffd0d0" value=""/>
</div>
<label id="er" onclick="popshow('errlist', true)" style="display: none; background: #ff8080;cursor: pointer;position: absolute;left: 0;top: 0px;font-size: 14px;">语法有错</label>
	<li style="display: none;" class="dropbutton"><label id="f">File</label>
		<ul class="droplinks">
		    <li><input type="file" id="abcfile" accept="text/*"
				style="display:none" onchange="loadtune()"/>
			<label id="fl" for="abcfile">Load file</label>
		    </li>
		    <li><label id="saveas">Save file</label></li>
		</ul>
	</li>
	<div id="target">

		<svg  xmlns="http://www.w3.org/2000/svg"
			xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve"
			width="18.3in" height="2in" viewBox="0 0 595 144" id="svg_pic"> 
			<text x="250" y="100" font-family="serif" font-size="12"></text> 
		</svg>
	</div>
	
	<textarea  id="source" name="source" rows="14" cols="73" wrap="off"
		style="font: 14px monospace;height: 100%;display: none;" ondrop="dropped(event)"
		ondragenter="drag_over(event)" ondragover="drag_over(event)"
		oninput="src_change()" onclick="" onmouseup=""></textarea>
	<textarea id="src1" rows="40" cols="73" wrap="off" style="font: 14px monospace;display: none;" oninput="src_change()"></textarea>
	<div id="errlist" class="popup" style="width: 500px">
		<div class="close" onclick="popshow('errlist')">x</div>
		<div id="diverr" style="font-size: 14px;"></div>
	</div>
</body>
</html>